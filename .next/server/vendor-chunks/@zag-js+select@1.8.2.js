"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@zag-js+select@1.8.2";
exports.ids = ["vendor-chunks/@zag-js+select@1.8.2"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@zag-js+select@1.8.2/node_modules/@zag-js/select/dist/index.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/.pnpm/@zag-js+select@1.8.2/node_modules/@zag-js/select/dist/index.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anatomy: () => (/* binding */ anatomy),\n/* harmony export */   collection: () => (/* binding */ collection),\n/* harmony export */   connect: () => (/* binding */ connect),\n/* harmony export */   itemGroupLabelProps: () => (/* binding */ itemGroupLabelProps),\n/* harmony export */   itemGroupProps: () => (/* binding */ itemGroupProps),\n/* harmony export */   itemProps: () => (/* binding */ itemProps),\n/* harmony export */   machine: () => (/* binding */ machine),\n/* harmony export */   props: () => (/* binding */ props),\n/* harmony export */   splitItemGroupLabelProps: () => (/* binding */ splitItemGroupLabelProps),\n/* harmony export */   splitItemGroupProps: () => (/* binding */ splitItemGroupProps),\n/* harmony export */   splitItemProps: () => (/* binding */ splitItemProps),\n/* harmony export */   splitProps: () => (/* binding */ splitProps)\n/* harmony export */ });\n/* harmony import */ var _zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zag-js/anatomy */ \"(ssr)/./node_modules/.pnpm/@zag-js+anatomy@1.8.2/node_modules/@zag-js/anatomy/dist/index.mjs\");\n/* harmony import */ var _zag_js_collection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @zag-js/collection */ \"(ssr)/./node_modules/.pnpm/@zag-js+collection@1.8.2/node_modules/@zag-js/collection/dist/index.mjs\");\n/* harmony import */ var _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @zag-js/dom-query */ \"(ssr)/./node_modules/.pnpm/@zag-js+dom-query@1.8.2/node_modules/@zag-js/dom-query/dist/index.mjs\");\n/* harmony import */ var _zag_js_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @zag-js/popper */ \"(ssr)/./node_modules/.pnpm/@zag-js+popper@1.8.2/node_modules/@zag-js/popper/dist/index.mjs\");\n/* harmony import */ var _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @zag-js/utils */ \"(ssr)/./node_modules/.pnpm/@zag-js+utils@1.8.2/node_modules/@zag-js/utils/dist/index.mjs\");\n/* harmony import */ var _zag_js_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @zag-js/core */ \"(ssr)/./node_modules/.pnpm/@zag-js+core@1.8.2/node_modules/@zag-js/core/dist/index.mjs\");\n/* harmony import */ var _zag_js_dismissable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @zag-js/dismissable */ \"(ssr)/./node_modules/.pnpm/@zag-js+dismissable@1.8.2/node_modules/@zag-js/dismissable/dist/index.mjs\");\n/* harmony import */ var _zag_js_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @zag-js/types */ \"(ssr)/./node_modules/.pnpm/@zag-js+types@1.8.2/node_modules/@zag-js/types/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n// src/select.anatomy.ts\nvar anatomy = (0,_zag_js_anatomy__WEBPACK_IMPORTED_MODULE_0__.createAnatomy)(\"select\").parts(\n  \"label\",\n  \"positioner\",\n  \"trigger\",\n  \"indicator\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"list\",\n  \"content\",\n  \"root\",\n  \"control\",\n  \"valueText\"\n);\nvar parts = anatomy.build();\nvar collection = (options) => {\n  return new _zag_js_collection__WEBPACK_IMPORTED_MODULE_1__.ListCollection(options);\n};\ncollection.empty = () => {\n  return new _zag_js_collection__WEBPACK_IMPORTED_MODULE_1__.ListCollection({ items: [] });\n};\n\n// src/select.dom.ts\nvar getRootId = (ctx) => ctx.ids?.root ?? `select:${ctx.id}`;\nvar getContentId = (ctx) => ctx.ids?.content ?? `select:${ctx.id}:content`;\nvar getTriggerId = (ctx) => ctx.ids?.trigger ?? `select:${ctx.id}:trigger`;\nvar getClearTriggerId = (ctx) => ctx.ids?.clearTrigger ?? `select:${ctx.id}:clear-trigger`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `select:${ctx.id}:label`;\nvar getControlId = (ctx) => ctx.ids?.control ?? `select:${ctx.id}:control`;\nvar getItemId = (ctx, id) => ctx.ids?.item?.(id) ?? `select:${ctx.id}:option:${id}`;\nvar getHiddenSelectId = (ctx) => ctx.ids?.hiddenSelect ?? `select:${ctx.id}:select`;\nvar getPositionerId = (ctx) => ctx.ids?.positioner ?? `select:${ctx.id}:positioner`;\nvar getItemGroupId = (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `select:${ctx.id}:optgroup:${id}`;\nvar getItemGroupLabelId = (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `select:${ctx.id}:optgroup-label:${id}`;\nvar getHiddenSelectEl = (ctx) => ctx.getById(getHiddenSelectId(ctx));\nvar getContentEl = (ctx) => ctx.getById(getContentId(ctx));\nvar getTriggerEl = (ctx) => ctx.getById(getTriggerId(ctx));\nvar getClearTriggerEl = (ctx) => ctx.getById(getClearTriggerId(ctx));\nvar getPositionerEl = (ctx) => ctx.getById(getPositionerId(ctx));\nvar getItemEl = (ctx, id) => ctx.getById(getItemId(ctx, id));\n\n// src/select.connect.ts\nfunction connect(service, normalize) {\n  const { context, prop, scope, state, computed, send } = service;\n  const disabled = prop(\"disabled\") || context.get(\"fieldsetDisabled\");\n  const invalid = prop(\"invalid\");\n  const readOnly = prop(\"readOnly\");\n  const composite = prop(\"composite\");\n  const collection2 = prop(\"collection\");\n  const open = state.hasTag(\"open\");\n  const focused = state.matches(\"focused\");\n  const highlightedValue = context.get(\"highlightedValue\");\n  const highlightedItem = context.get(\"highlightedItem\");\n  const selectedItems = context.get(\"selectedItems\");\n  const currentPlacement = context.get(\"currentPlacement\");\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const interactive = computed(\"isInteractive\");\n  const ariaActiveDescendant = highlightedValue ? getItemId(scope, highlightedValue) : void 0;\n  function getItemState(props2) {\n    const _disabled = collection2.getItemDisabled(props2.item);\n    const value = collection2.getItemValue(props2.item);\n    (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.ensure)(value, () => `[zag-js] No value found for item ${JSON.stringify(props2.item)}`);\n    return {\n      value,\n      disabled: Boolean(disabled || _disabled),\n      highlighted: highlightedValue === value,\n      selected: context.get(\"value\").includes(value)\n    };\n  }\n  const popperStyles = (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacementStyles)({\n    ...prop(\"positioning\"),\n    placement: currentPlacement\n  });\n  return {\n    open,\n    focused,\n    empty: context.get(\"value\").length === 0,\n    highlightedItem,\n    highlightedValue,\n    selectedItems,\n    hasSelectedItems: computed(\"hasSelectedItems\"),\n    value: context.get(\"value\"),\n    valueAsString: context.get(\"valueAsString\"),\n    collection: collection2,\n    multiple: !!prop(\"multiple\"),\n    disabled: !!disabled,\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    focus() {\n      getTriggerEl(scope)?.focus({ preventScroll: true });\n    },\n    setOpen(nextOpen) {\n      const open2 = state.hasTag(\"open\");\n      if (open2 === nextOpen) return;\n      send({ type: nextOpen ? \"OPEN\" : \"CLOSE\" });\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value });\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    selectAll() {\n      send({ type: \"VALUE.SET\", value: collection2.getValues() });\n    },\n    highlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value });\n    },\n    clearValue(value) {\n      if (value) {\n        send({ type: \"ITEM.CLEAR\", value });\n      } else {\n        send({ type: \"VALUE.CLEAR\" });\n      }\n    },\n    getItemState,\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(readOnly)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        dir: prop(\"dir\"),\n        id: getLabelId(scope),\n        ...parts.label.attrs,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(readOnly),\n        htmlFor: getHiddenSelectId(scope),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          getTriggerEl(scope)?.focus({ preventScroll: true });\n        }\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: prop(\"dir\"),\n        id: getControlId(scope),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(focused),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        \"data-focus\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(focused)\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        id: getTriggerId(scope),\n        disabled,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": getContentId(scope),\n        \"aria-expanded\": open,\n        \"aria-haspopup\": \"listbox\",\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-invalid\": invalid,\n        \"aria-labelledby\": getLabelId(scope),\n        ...parts.trigger.attrs,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(readOnly),\n        \"data-placement\": currentPlacement,\n        \"data-placeholder-shown\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(!computed(\"hasSelectedItems\")),\n        onClick(event) {\n          if (!interactive) return;\n          if (event.defaultPrevented) return;\n          send({ type: \"TRIGGER.CLICK\" });\n        },\n        onFocus() {\n          send({ type: \"TRIGGER.FOCUS\" });\n        },\n        onBlur() {\n          send({ type: \"TRIGGER.BLUR\" });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"TRIGGER.ARROW_UP\" });\n            },\n            ArrowDown(event2) {\n              send({ type: event2.altKey ? \"OPEN\" : \"TRIGGER.ARROW_DOWN\" });\n            },\n            ArrowLeft() {\n              send({ type: \"TRIGGER.ARROW_LEFT\" });\n            },\n            ArrowRight() {\n              send({ type: \"TRIGGER.ARROW_RIGHT\" });\n            },\n            Home() {\n              send({ type: \"TRIGGER.HOME\" });\n            },\n            End() {\n              send({ type: \"TRIGGER.END\" });\n            },\n            Enter() {\n              send({ type: \"TRIGGER.ENTER\" });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({ type: \"TRIGGER.TYPEAHEAD\", key: event2.key });\n              } else {\n                send({ type: \"TRIGGER.ENTER\" });\n              }\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getEventKey)(event, {\n            dir: prop(\"dir\"),\n            orientation: \"vertical\"\n          })];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          if (_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getByTypeahead.isValidEvent(event)) {\n            send({ type: \"TRIGGER.TYPEAHEAD\", key: event.key });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: prop(\"dir\"),\n        \"aria-hidden\": true,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        \"data-readonly\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(readOnly)\n      });\n    },\n    getItemProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        id: getItemId(scope, itemState.value),\n        role: \"option\",\n        ...parts.item.attrs,\n        dir: prop(\"dir\"),\n        \"data-value\": itemState.value,\n        \"aria-selected\": itemState.selected,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(itemState.highlighted),\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(itemState.disabled),\n        \"aria-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.ariaAttr)(itemState.disabled),\n        onPointerMove(event) {\n          if (itemState.disabled || event.pointerType !== \"mouse\") return;\n          if (itemState.value === highlightedValue) return;\n          send({ type: \"ITEM.POINTER_MOVE\", value: itemState.value });\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (itemState.disabled) return;\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value: itemState.value });\n        },\n        onPointerLeave(event) {\n          if (itemState.disabled) return;\n          if (props2.persistFocus) return;\n          if (event.pointerType !== \"mouse\") return;\n          const pointerMoved = service.event.previous()?.type.includes(\"POINTER\");\n          if (!pointerMoved) return;\n          send({ type: \"ITEM.POINTER_LEAVE\" });\n        }\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(itemState.disabled),\n        \"data-highlighted\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(itemState.highlighted)\n      });\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected\n      });\n    },\n    getItemGroupLabelProps(props2) {\n      const { htmlFor } = props2;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: getItemGroupLabelId(scope, htmlFor),\n        dir: prop(\"dir\"),\n        role: \"presentation\"\n      });\n    },\n    getItemGroupProps(props2) {\n      const { id } = props2;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        \"data-disabled\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(disabled),\n        id: getItemGroupId(scope, id),\n        \"aria-labelledby\": getItemGroupLabelId(scope, id),\n        role: \"group\",\n        dir: prop(\"dir\")\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        id: getClearTriggerId(scope),\n        type: \"button\",\n        \"aria-label\": \"Clear value\",\n        \"data-invalid\": (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.dataAttr)(invalid),\n        disabled,\n        hidden: !computed(\"hasSelectedItems\"),\n        dir: prop(\"dir\"),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          send({ type: \"CLEAR.CLICK\" });\n        }\n      });\n    },\n    getHiddenSelectProps() {\n      const value = context.get(\"value\");\n      const defaultValue = prop(\"multiple\") ? value : value?.[0];\n      return normalize.select({\n        name: prop(\"name\"),\n        form: prop(\"form\"),\n        disabled,\n        multiple: prop(\"multiple\"),\n        required: prop(\"required\"),\n        \"aria-hidden\": true,\n        id: getHiddenSelectId(scope),\n        defaultValue,\n        style: _zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.visuallyHiddenStyle,\n        tabIndex: -1,\n        // Some browser extensions will focus the hidden select.\n        // Let's forward the focus to the trigger.\n        onFocus() {\n          getTriggerEl(scope)?.focus({ preventScroll: true });\n        },\n        \"aria-labelledby\": getLabelId(scope)\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        style: popperStyles.floating\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        hidden: !open,\n        dir: prop(\"dir\"),\n        id: getContentId(scope),\n        role: composite ? \"listbox\" : \"dialog\",\n        ...parts.content.attrs,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": currentPlacement,\n        \"data-activedescendant\": ariaActiveDescendant,\n        \"aria-activedescendant\": composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": prop(\"multiple\") && composite ? true : void 0,\n        \"aria-labelledby\": getLabelId(scope),\n        tabIndex: 0,\n        onKeyDown(event) {\n          if (!interactive) return;\n          if (!(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.isSelfTarget)(event)) return;\n          if (event.key === \"Tab\") {\n            const valid = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.isValidTabEvent)(event);\n            if (!valid) {\n              event.preventDefault();\n              return;\n            }\n          }\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"CONTENT.ARROW_UP\" });\n            },\n            ArrowDown() {\n              send({ type: \"CONTENT.ARROW_DOWN\" });\n            },\n            Home() {\n              send({ type: \"CONTENT.HOME\" });\n            },\n            End() {\n              send({ type: \"CONTENT.END\" });\n            },\n            Enter() {\n              send({ type: \"ITEM.CLICK\", src: \"keydown.enter\" });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({ type: \"CONTENT.TYPEAHEAD\", key: event2.key });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            }\n          };\n          const exec = keyMap[(0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getEventKey)(event)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          const target = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getEventTarget)(event);\n          if ((0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.isEditableElement)(target)) {\n            return;\n          }\n          if (_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getByTypeahead.isValidEvent(event)) {\n            send({ type: \"CONTENT.TYPEAHEAD\", key: event.key });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        tabIndex: 0,\n        role: !composite ? \"listbox\" : void 0,\n        \"aria-labelledby\": getTriggerId(scope),\n        \"aria-activedescendant\": !composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": !composite && prop(\"multiple\") ? true : void 0\n      });\n    }\n  };\n}\nvar { and, not, or } = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createGuards)();\nvar machine = (0,_zag_js_core__WEBPACK_IMPORTED_MODULE_5__.createMachine)({\n  props({ props: props2 }) {\n    return {\n      loopFocus: false,\n      closeOnSelect: !props2.multiple,\n      composite: true,\n      defaultValue: [],\n      ...props2,\n      collection: props2.collection ?? collection.empty(),\n      positioning: {\n        placement: \"bottom-start\",\n        gutter: 8,\n        ...props2.positioning\n      }\n    };\n  },\n  context({ prop, bindable }) {\n    return {\n      value: bindable(() => ({\n        defaultValue: prop(\"defaultValue\"),\n        value: prop(\"value\"),\n        isEqual: _zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.isEqual,\n        onChange(value) {\n          const items = prop(\"collection\").findMany(value);\n          return prop(\"onValueChange\")?.({ value, items });\n        }\n      })),\n      highlightedValue: bindable(() => ({\n        defaultValue: prop(\"defaultHighlightedValue\") || null,\n        value: prop(\"highlightedValue\"),\n        onChange(value) {\n          prop(\"onHighlightChange\")?.({\n            highlightedValue: value,\n            highlightedItem: prop(\"collection\").find(value),\n            highlightedIndex: prop(\"collection\").indexOf(value)\n          });\n        }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      })),\n      fieldsetDisabled: bindable(() => ({\n        defaultValue: false\n      })),\n      highlightedItem: bindable(() => ({\n        defaultValue: null\n      })),\n      selectedItems: bindable(() => {\n        const value = prop(\"value\") ?? prop(\"defaultValue\") ?? [];\n        const items = prop(\"collection\").findMany(value);\n        return { defaultValue: items };\n      }),\n      valueAsString: bindable(() => {\n        const value = prop(\"value\") ?? prop(\"defaultValue\") ?? [];\n        return { defaultValue: prop(\"collection\").stringifyMany(value) };\n      })\n    };\n  },\n  refs() {\n    return {\n      typeahead: { ..._zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getByTypeahead.defaultOptions }\n    };\n  },\n  computed: {\n    hasSelectedItems: ({ context }) => context.get(\"value\").length > 0,\n    isTypingAhead: ({ refs }) => refs.get(\"typeahead\").keysSoFar !== \"\",\n    isDisabled: ({ prop, context }) => !!prop(\"disabled\") || !!context.get(\"fieldsetDisabled\"),\n    isInteractive: ({ prop }) => !(prop(\"disabled\") || prop(\"readOnly\"))\n  },\n  initialState({ prop }) {\n    const open = prop(\"open\") || prop(\"defaultOpen\");\n    return open ? \"open\" : \"idle\";\n  },\n  entry: [\"syncSelectElement\"],\n  watch({ context, prop, track, action }) {\n    track([() => context.get(\"value\").toString()], () => {\n      action([\"syncSelectedItems\", \"syncSelectElement\", \"dispatchChangeEvent\"]);\n    });\n    track([() => prop(\"open\")], () => {\n      action([\"toggleVisibility\"]);\n    });\n    track([() => context.get(\"highlightedValue\")], () => {\n      action([\"syncHighlightedItem\"]);\n    });\n    track([() => prop(\"collection\").toString()], () => {\n      action([\"syncCollection\"]);\n    });\n  },\n  on: {\n    \"HIGHLIGHTED_VALUE.SET\": {\n      actions: [\"setHighlightedItem\"]\n    },\n    \"ITEM.SELECT\": {\n      actions: [\"selectItem\"]\n    },\n    \"ITEM.CLEAR\": {\n      actions: [\"clearItem\"]\n    },\n    \"VALUE.SET\": {\n      actions: [\"setSelectedItems\"]\n    },\n    \"VALUE.CLEAR\": {\n      actions: [\"clearSelectedItems\"]\n    },\n    \"CLEAR.CLICK\": {\n      actions: [\"clearSelectedItems\", \"focusTriggerEl\"]\n    }\n  },\n  effects: [\"trackFormControlState\"],\n  states: {\n    idle: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [\n          {\n            guard: \"isTriggerClickEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\"]\n          }\n        ],\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\", \"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          }\n        ],\n        \"TRIGGER.FOCUS\": {\n          target: \"focused\"\n        },\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n          }\n        ]\n      }\n    },\n    focused: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [\n          {\n            guard: \"isTriggerClickEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          },\n          {\n            guard: \"isTriggerArrowUpEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightComputedLastItem\"]\n          },\n          {\n            guard: or(\"isTriggerArrowDownEvent\", \"isTriggerEnterEvent\"),\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightComputedFirstItem\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\"]\n          }\n        ],\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n          }\n        ],\n        \"TRIGGER.BLUR\": {\n          target: \"idle\"\n        },\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightFirstSelectedItem\"]\n          }\n        ],\n        \"TRIGGER.ENTER\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_UP\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedLastItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_DOWN\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_LEFT\": [\n          {\n            guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n            actions: [\"selectPreviousItem\"]\n          },\n          {\n            guard: not(\"multiple\"),\n            actions: [\"selectLastItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_RIGHT\": [\n          {\n            guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n            actions: [\"selectNextItem\"]\n          },\n          {\n            guard: not(\"multiple\"),\n            actions: [\"selectFirstItem\"]\n          }\n        ],\n        \"TRIGGER.HOME\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectFirstItem\"]\n        },\n        \"TRIGGER.END\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectLastItem\"]\n        },\n        \"TRIGGER.TYPEAHEAD\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectMatchingItem\"]\n        }\n      }\n    },\n    open: {\n      tags: [\"open\"],\n      exit: [\"scrollContentToTop\"],\n      effects: [\"trackDismissableElement\", \"computePlacement\", \"scrollToHighlightedItem\"],\n      on: {\n        \"CONTROLLED.CLOSE\": {\n          target: \"focused\",\n          actions: [\"focusTriggerEl\", \"clearHighlightedItem\"]\n        },\n        CLOSE: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n          }\n        ],\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"clearHighlightedItem\"]\n          }\n        ],\n        \"ITEM.CLICK\": [\n          {\n            guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n          },\n          {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n          },\n          {\n            actions: [\"selectHighlightedItem\"]\n          }\n        ],\n        \"CONTENT.HOME\": {\n          actions: [\"highlightFirstItem\"]\n        },\n        \"CONTENT.END\": {\n          actions: [\"highlightLastItem\"]\n        },\n        \"CONTENT.ARROW_DOWN\": [\n          {\n            guard: and(\"hasHighlightedItem\", \"loop\", \"isLastItemHighlighted\"),\n            actions: [\"highlightFirstItem\"]\n          },\n          {\n            guard: \"hasHighlightedItem\",\n            actions: [\"highlightNextItem\"]\n          },\n          {\n            actions: [\"highlightFirstItem\"]\n          }\n        ],\n        \"CONTENT.ARROW_UP\": [\n          {\n            guard: and(\"hasHighlightedItem\", \"loop\", \"isFirstItemHighlighted\"),\n            actions: [\"highlightLastItem\"]\n          },\n          {\n            guard: \"hasHighlightedItem\",\n            actions: [\"highlightPreviousItem\"]\n          },\n          {\n            actions: [\"highlightLastItem\"]\n          }\n        ],\n        \"CONTENT.TYPEAHEAD\": {\n          actions: [\"highlightMatchingItem\"]\n        },\n        \"ITEM.POINTER_MOVE\": {\n          actions: [\"highlightItem\"]\n        },\n        \"ITEM.POINTER_LEAVE\": {\n          actions: [\"clearHighlightedItem\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      loop: ({ prop }) => !!prop(\"loopFocus\"),\n      multiple: ({ prop }) => !!prop(\"multiple\"),\n      hasSelectedItems: ({ computed }) => !!computed(\"hasSelectedItems\"),\n      hasHighlightedItem: ({ context }) => context.get(\"highlightedValue\") != null,\n      isFirstItemHighlighted: ({ context, prop }) => context.get(\"highlightedValue\") === prop(\"collection\").firstValue,\n      isLastItemHighlighted: ({ context, prop }) => context.get(\"highlightedValue\") === prop(\"collection\").lastValue,\n      closeOnSelect: ({ prop, event }) => !!(event.closeOnSelect ?? prop(\"closeOnSelect\")),\n      // guard assertions (for controlled mode)\n      isOpenControlled: ({ prop }) => prop(\"open\") !== void 0,\n      isTriggerClickEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.CLICK\",\n      isTriggerEnterEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ENTER\",\n      isTriggerArrowUpEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ARROW_UP\",\n      isTriggerArrowDownEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ARROW_DOWN\"\n    },\n    effects: {\n      trackFormControlState({ context, scope }) {\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.trackFormControl)(getHiddenSelectEl(scope), {\n          onFieldsetDisabledChange(disabled) {\n            context.set(\"fieldsetDisabled\", disabled);\n          },\n          onFormReset() {\n            const value = context.initial(\"value\");\n            context.set(\"value\", value);\n          }\n        });\n      },\n      trackDismissableElement({ scope, send, prop }) {\n        const contentEl = () => getContentEl(scope);\n        let restoreFocus = true;\n        return (0,_zag_js_dismissable__WEBPACK_IMPORTED_MODULE_6__.trackDismissableElement)(contentEl, {\n          defer: true,\n          exclude: [getTriggerEl(scope), getClearTriggerEl(scope)],\n          onFocusOutside: prop(\"onFocusOutside\"),\n          onPointerDownOutside: prop(\"onPointerDownOutside\"),\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            restoreFocus = !(event.detail.focusable || event.detail.contextmenu);\n          },\n          onDismiss() {\n            send({ type: \"CLOSE\", src: \"interact-outside\", restoreFocus });\n          }\n        });\n      },\n      computePlacement({ context, prop, scope }) {\n        const positioning = prop(\"positioning\");\n        context.set(\"currentPlacement\", positioning.placement);\n        const triggerEl = () => getTriggerEl(scope);\n        const positionerEl = () => getPositionerEl(scope);\n        return (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(triggerEl, positionerEl, {\n          defer: true,\n          ...positioning,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      scrollToHighlightedItem({ context, prop, scope, event }) {\n        const exec = (immediate) => {\n          const highlightedValue = context.get(\"highlightedValue\");\n          if (highlightedValue == null) return;\n          if (event.current().type.includes(\"POINTER\")) return;\n          const optionEl = getItemEl(scope, highlightedValue);\n          const contentEl2 = getContentEl(scope);\n          const scrollToIndexFn = prop(\"scrollToIndexFn\");\n          if (scrollToIndexFn) {\n            const highlightedIndex = prop(\"collection\").indexOf(highlightedValue);\n            scrollToIndexFn?.({ index: highlightedIndex, immediate });\n            return;\n          }\n          (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.scrollIntoView)(optionEl, { rootEl: contentEl2, block: \"nearest\" });\n        };\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.raf)(() => exec(true));\n        const contentEl = () => getContentEl(scope);\n        return (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.observeAttributes)(contentEl, {\n          defer: true,\n          attributes: [\"data-activedescendant\"],\n          callback() {\n            exec(false);\n          }\n        });\n      }\n    },\n    actions: {\n      reposition({ context, prop, scope, event }) {\n        const positionerEl = () => getPositionerEl(scope);\n        (0,_zag_js_popper__WEBPACK_IMPORTED_MODULE_3__.getPlacement)(getTriggerEl(scope), positionerEl, {\n          ...prop(\"positioning\"),\n          ...event.options,\n          defer: true,\n          listeners: false,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      toggleVisibility({ send, prop, event }) {\n        send({ type: prop(\"open\") ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: event });\n      },\n      highlightPreviousItem({ context, prop }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getPreviousValue(highlightedValue, 1, prop(\"loopFocus\"));\n        context.set(\"highlightedValue\", value);\n      },\n      highlightNextItem({ context, prop }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getNextValue(highlightedValue, 1, prop(\"loopFocus\"));\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstItem({ context, prop }) {\n        const value = prop(\"collection\").firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightLastItem({ context, prop }) {\n        const value = prop(\"collection\").lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      setInitialFocus({ scope }) {\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.raf)(() => {\n          const element = (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.getInitialFocus)({\n            root: getContentEl(scope)\n          });\n          element?.focus({ preventScroll: true });\n        });\n      },\n      focusTriggerEl({ event, scope }) {\n        const restoreFocus = event.restoreFocus ?? event.previousEvent?.restoreFocus;\n        if (restoreFocus != null && !restoreFocus) return;\n        (0,_zag_js_dom_query__WEBPACK_IMPORTED_MODULE_4__.raf)(() => {\n          const element = getTriggerEl(scope);\n          element?.focus({ preventScroll: true });\n        });\n      },\n      selectHighlightedItem({ context, prop, event }) {\n        let value = event.value ?? context.get(\"highlightedValue\");\n        if (value == null) return;\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(value);\n        value = nullable ? null : value;\n        context.set(\"value\", (prev) => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.addOrRemove)(prev, value);\n          return [value];\n        });\n      },\n      highlightComputedFirstItem({ context, prop, computed }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightComputedLastItem({ context, prop, computed }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstSelectedItem({ context, prop, computed }) {\n        if (!computed(\"hasSelectedItems\")) return;\n        const value = prop(\"collection\").sort(context.get(\"value\"))[0];\n        context.set(\"highlightedValue\", value);\n      },\n      highlightItem({ context, event }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      highlightMatchingItem({ context, prop, event, refs }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"highlightedValue\")\n        });\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      setHighlightedItem({ context, event }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      clearHighlightedItem({ context }) {\n        context.set(\"highlightedValue\", null);\n      },\n      selectItem({ context, prop, event }) {\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(event.value);\n        const value = nullable ? null : event.value;\n        context.set(\"value\", (prev) => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.addOrRemove)(prev, value);\n          return [value];\n        });\n      },\n      clearItem({ context, event }) {\n        context.set(\"value\", (prev) => prev.filter((v) => v !== event.value));\n      },\n      setSelectedItems({ context, event }) {\n        context.set(\"value\", event.value);\n      },\n      clearSelectedItems({ context }) {\n        context.set(\"value\", []);\n      },\n      selectPreviousItem({ context, prop }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getPreviousValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectNextItem({ context, prop }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getNextValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectFirstItem({ context, prop }) {\n        const value = prop(\"collection\").firstValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectLastItem({ context, prop }) {\n        const value = prop(\"collection\").lastValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectMatchingItem({ context, prop, event, refs }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"value\")[0]\n        });\n        if (value == null) return;\n        context.set(\"value\", [value]);\n      },\n      scrollContentToTop({ prop, scope }) {\n        if (prop(\"scrollToIndexFn\")) {\n          prop(\"scrollToIndexFn\")?.({ index: 0, immediate: true });\n        } else {\n          getContentEl(scope)?.scrollTo(0, 0);\n        }\n      },\n      invokeOnOpen({ prop }) {\n        prop(\"onOpenChange\")?.({ open: true });\n      },\n      invokeOnClose({ prop }) {\n        prop(\"onOpenChange\")?.({ open: false });\n      },\n      syncSelectElement({ context, prop, scope }) {\n        const selectEl = getHiddenSelectEl(scope);\n        if (!selectEl) return;\n        if (context.get(\"value\").length === 0 && !prop(\"multiple\")) {\n          selectEl.selectedIndex = -1;\n          return;\n        }\n        for (const option of selectEl.options) {\n          option.selected = context.get(\"value\").includes(option.value);\n        }\n      },\n      syncCollection({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const highlightedItem = collection2.find(context.get(\"highlightedValue\"));\n        if (highlightedItem) context.set(\"highlightedItem\", highlightedItem);\n        const selectedItems = collection2.findMany(context.get(\"value\"));\n        context.set(\"selectedItems\", selectedItems);\n        const valueAsString = collection2.stringifyItems(selectedItems);\n        context.set(\"valueAsString\", valueAsString);\n      },\n      syncSelectedItems({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const prevSelectedItems = context.get(\"selectedItems\");\n        const value = context.get(\"value\");\n        const selectedItems = value.map((value2) => {\n          const item = prevSelectedItems.find((item2) => collection2.getItemValue(item2) === value2);\n          return item || collection2.find(value2);\n        });\n        context.set(\"selectedItems\", selectedItems);\n        context.set(\"valueAsString\", collection2.stringifyItems(selectedItems));\n      },\n      syncHighlightedItem({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const highlightedValue = context.get(\"highlightedValue\");\n        const highlightedItem = highlightedValue ? collection2.find(highlightedValue) : null;\n        context.set(\"highlightedItem\", highlightedItem);\n      },\n      dispatchChangeEvent({ scope }) {\n        queueMicrotask(() => {\n          const node = getHiddenSelectEl(scope);\n          if (!node) return;\n          const win = scope.getWin();\n          const changeEvent = new win.Event(\"change\", { bubbles: true, composed: true });\n          node.dispatchEvent(changeEvent);\n        });\n      }\n    }\n  }\n});\nvar props = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_7__.createProps)()([\n  \"closeOnSelect\",\n  \"collection\",\n  \"dir\",\n  \"disabled\",\n  \"deselectable\",\n  \"form\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"loopFocus\",\n  \"multiple\",\n  \"name\",\n  \"onFocusOutside\",\n  \"onHighlightChange\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onValueChange\",\n  \"defaultOpen\",\n  \"open\",\n  \"composite\",\n  \"positioning\",\n  \"required\",\n  \"readOnly\",\n  \"scrollToIndexFn\",\n  \"value\",\n  \"defaultValue\",\n  \"defaultHighlightedValue\"\n]);\nvar splitProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(props);\nvar itemProps = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_7__.createProps)()([\"item\", \"persistFocus\"]);\nvar splitItemProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(itemProps);\nvar itemGroupProps = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_7__.createProps)()([\"id\"]);\nvar splitItemGroupProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(itemGroupProps);\nvar itemGroupLabelProps = (0,_zag_js_types__WEBPACK_IMPORTED_MODULE_7__.createProps)()([\"htmlFor\"]);\nvar splitItemGroupLabelProps = (0,_zag_js_utils__WEBPACK_IMPORTED_MODULE_2__.createSplitProps)(itemGroupLabelProps);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHphZy1qcytzZWxlY3RAMS44LjIvbm9kZV9tb2R1bGVzL0B6YWctanMvc2VsZWN0L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ0k7QUFDa007QUFDcEw7QUFDYTtBQUNwQjtBQUNHO0FBQ2xCOztBQUU1QztBQUNBLGNBQWMsOERBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSw4REFBYyxHQUFHLFdBQVc7QUFDekM7O0FBRUE7QUFDQSxvREFBb0QsT0FBTztBQUMzRCwwREFBMEQsT0FBTztBQUNqRSwwREFBMEQsT0FBTztBQUNqRSxvRUFBb0UsT0FBTztBQUMzRSxzREFBc0QsT0FBTztBQUM3RCwwREFBMEQsT0FBTztBQUNqRSw4REFBOEQsT0FBTyxVQUFVLEdBQUc7QUFDbEYsb0VBQW9FLE9BQU87QUFDM0UsZ0VBQWdFLE9BQU87QUFDdkUsd0VBQXdFLE9BQU8sWUFBWSxHQUFHO0FBQzlGLGtGQUFrRixPQUFPLGtCQUFrQixHQUFHO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSw4Q0FBOEM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQU0sa0RBQWtELDRCQUE0QjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrRUFBa0I7QUFDekM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQixhQUFhLGtDQUFrQztBQUMvQyxLQUFLO0FBQ0w7QUFDQSxtQ0FBbUMscUJBQXFCO0FBQ3hELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1DQUFtQztBQUNoRCxLQUFLO0FBQ0w7QUFDQSxhQUFhLDRCQUE0QjtBQUN6QyxLQUFLO0FBQ0w7QUFDQSxhQUFhLDBCQUEwQjtBQUN2QyxLQUFLO0FBQ0w7QUFDQSxhQUFhLG1EQUFtRDtBQUNoRSxLQUFLO0FBQ0w7QUFDQSxhQUFhLHNDQUFzQztBQUNuRCxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDLFFBQVE7QUFDUixlQUFlLHFCQUFxQjtBQUNwQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQVE7QUFDaEMseUJBQXlCLDJEQUFRO0FBQ2pDLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQyx3QkFBd0IsMkRBQVE7QUFDaEMseUJBQXlCLDJEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFCQUFxQjtBQUM1RDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFRO0FBQzlCLHlCQUF5QiwyREFBUTtBQUNqQyx3QkFBd0IsMkRBQVE7QUFDaEMsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQyx3QkFBd0IsMkRBQVE7QUFDaEMsc0JBQXNCLDJEQUFRO0FBQzlCLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQyx3QkFBd0IsMkRBQVE7QUFDaEMseUJBQXlCLDJEQUFRO0FBQ2pDO0FBQ0Esa0NBQWtDLDJEQUFRO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix1QkFBdUI7QUFDeEMsU0FBUztBQUNUO0FBQ0EsaUJBQWlCLHVCQUF1QjtBQUN4QyxTQUFTO0FBQ1Q7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBCQUEwQjtBQUMvQyxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIscURBQXFEO0FBQzFFLGFBQWE7QUFDYjtBQUNBLHFCQUFxQiw0QkFBNEI7QUFDakQsYUFBYTtBQUNiO0FBQ0EscUJBQXFCLDZCQUE2QjtBQUNsRCxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDLGFBQWE7QUFDYjtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUMsYUFBYTtBQUNiO0FBQ0EscUJBQXFCLHVCQUF1QjtBQUM1QyxhQUFhO0FBQ2I7QUFDQTtBQUNBLHVCQUF1Qiw0Q0FBNEM7QUFDbkUsZ0JBQWdCO0FBQ2hCLHVCQUF1Qix1QkFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhEQUFXO0FBQ3pDO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkRBQWM7QUFDNUIsbUJBQW1CLDJDQUEyQztBQUM5RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyREFBUTtBQUNqQyx3QkFBd0IsMkRBQVE7QUFDaEMseUJBQXlCLDJEQUFRO0FBQ2pDLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkRBQVE7QUFDcEMseUJBQXlCLDJEQUFRO0FBQ2pDLHlCQUF5QiwyREFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbURBQW1EO0FBQ3BFLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOERBQThEO0FBQy9FLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNEJBQTRCO0FBQzdDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJEQUFRO0FBQ2pDLDRCQUE0QiwyREFBUTtBQUNwQyxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLGNBQWMsS0FBSztBQUNuQjtBQUNBO0FBQ0EseUJBQXlCLDJEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMkRBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxQkFBcUI7QUFDdEM7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHFCQUFxQjtBQUM1RCxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFZO0FBQzNCO0FBQ0EsMEJBQTBCLGtFQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBCQUEwQjtBQUMvQyxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsNEJBQTRCO0FBQ2pELGFBQWE7QUFDYjtBQUNBLHFCQUFxQixzQkFBc0I7QUFDM0MsYUFBYTtBQUNiO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQyxhQUFhO0FBQ2I7QUFDQSxxQkFBcUIsMENBQTBDO0FBQy9ELGFBQWE7QUFDYjtBQUNBO0FBQ0EsdUJBQXVCLDRDQUE0QztBQUNuRSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOERBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixpRUFBYztBQUN2QyxjQUFjLG9FQUFpQjtBQUMvQjtBQUNBO0FBQ0EsY0FBYyw2REFBYztBQUM1QixtQkFBbUIsMkNBQTJDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGVBQWUsRUFBRSwwREFBWTtBQUNuQyxjQUFjLDJEQUFhO0FBQzNCLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsR0FBRyw2REFBYztBQUNwQztBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5QixTQUFTO0FBQ2xDLHNCQUFzQixNQUFNO0FBQzVCLG1CQUFtQixlQUFlO0FBQ2xDLHNCQUFzQixNQUFNO0FBQzVCLEdBQUc7QUFDSCxpQkFBaUIsTUFBTTtBQUN2QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsVUFBVSw4QkFBOEI7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckIs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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtEQUFnQjtBQUNqQyxnQkFBZ0IsMERBQVc7QUFDM0IscUJBQXFCLCtEQUFnQjtBQUNyQyxxQkFBcUIsMERBQVc7QUFDaEMsMEJBQTBCLCtEQUFnQjtBQUMxQywwQkFBMEIsMERBQVc7QUFDckMsK0JBQStCLCtEQUFnQjs7QUFFb0kiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcd2VzanJcXERvY3VtZW50c1xcUHJvamV0b3NcXGRhc2gtY3J5cHRvY29pblxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHphZy1qcytzZWxlY3RAMS44LjJcXG5vZGVfbW9kdWxlc1xcQHphZy1qc1xcc2VsZWN0XFxkaXN0XFxpbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQW5hdG9teSB9IGZyb20gJ0B6YWctanMvYW5hdG9teSc7XG5pbXBvcnQgeyBMaXN0Q29sbGVjdGlvbiB9IGZyb20gJ0B6YWctanMvY29sbGVjdGlvbic7XG5pbXBvcnQgeyByYWYsIGdldEluaXRpYWxGb2N1cywgb2JzZXJ2ZUF0dHJpYnV0ZXMsIHRyYWNrRm9ybUNvbnRyb2wsIGdldEJ5VHlwZWFoZWFkLCBzY3JvbGxJbnRvVmlldywgaXNTZWxmVGFyZ2V0LCBpc1ZhbGlkVGFiRXZlbnQsIGdldEV2ZW50S2V5LCBnZXRFdmVudFRhcmdldCwgaXNFZGl0YWJsZUVsZW1lbnQsIHZpc3VhbGx5SGlkZGVuU3R5bGUsIGRhdGFBdHRyLCBhcmlhQXR0ciB9IGZyb20gJ0B6YWctanMvZG9tLXF1ZXJ5JztcbmltcG9ydCB7IGdldFBsYWNlbWVudCwgZ2V0UGxhY2VtZW50U3R5bGVzIH0gZnJvbSAnQHphZy1qcy9wb3BwZXInO1xuaW1wb3J0IHsgYWRkT3JSZW1vdmUsIGlzRXF1YWwsIGNyZWF0ZVNwbGl0UHJvcHMsIGVuc3VyZSB9IGZyb20gJ0B6YWctanMvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlR3VhcmRzLCBjcmVhdGVNYWNoaW5lIH0gZnJvbSAnQHphZy1qcy9jb3JlJztcbmltcG9ydCB7IHRyYWNrRGlzbWlzc2FibGVFbGVtZW50IH0gZnJvbSAnQHphZy1qcy9kaXNtaXNzYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9wcyB9IGZyb20gJ0B6YWctanMvdHlwZXMnO1xuXG4vLyBzcmMvc2VsZWN0LmFuYXRvbXkudHNcbnZhciBhbmF0b215ID0gY3JlYXRlQW5hdG9teShcInNlbGVjdFwiKS5wYXJ0cyhcbiAgXCJsYWJlbFwiLFxuICBcInBvc2l0aW9uZXJcIixcbiAgXCJ0cmlnZ2VyXCIsXG4gIFwiaW5kaWNhdG9yXCIsXG4gIFwiY2xlYXJUcmlnZ2VyXCIsXG4gIFwiaXRlbVwiLFxuICBcIml0ZW1UZXh0XCIsXG4gIFwiaXRlbUluZGljYXRvclwiLFxuICBcIml0ZW1Hcm91cFwiLFxuICBcIml0ZW1Hcm91cExhYmVsXCIsXG4gIFwibGlzdFwiLFxuICBcImNvbnRlbnRcIixcbiAgXCJyb290XCIsXG4gIFwiY29udHJvbFwiLFxuICBcInZhbHVlVGV4dFwiXG4pO1xudmFyIHBhcnRzID0gYW5hdG9teS5idWlsZCgpO1xudmFyIGNvbGxlY3Rpb24gPSAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IExpc3RDb2xsZWN0aW9uKG9wdGlvbnMpO1xufTtcbmNvbGxlY3Rpb24uZW1wdHkgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgTGlzdENvbGxlY3Rpb24oeyBpdGVtczogW10gfSk7XG59O1xuXG4vLyBzcmMvc2VsZWN0LmRvbS50c1xudmFyIGdldFJvb3RJZCA9IChjdHgpID0+IGN0eC5pZHM/LnJvb3QgPz8gYHNlbGVjdDoke2N0eC5pZH1gO1xudmFyIGdldENvbnRlbnRJZCA9IChjdHgpID0+IGN0eC5pZHM/LmNvbnRlbnQgPz8gYHNlbGVjdDoke2N0eC5pZH06Y29udGVudGA7XG52YXIgZ2V0VHJpZ2dlcklkID0gKGN0eCkgPT4gY3R4Lmlkcz8udHJpZ2dlciA/PyBgc2VsZWN0OiR7Y3R4LmlkfTp0cmlnZ2VyYDtcbnZhciBnZXRDbGVhclRyaWdnZXJJZCA9IChjdHgpID0+IGN0eC5pZHM/LmNsZWFyVHJpZ2dlciA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpjbGVhci10cmlnZ2VyYDtcbnZhciBnZXRMYWJlbElkID0gKGN0eCkgPT4gY3R4Lmlkcz8ubGFiZWwgPz8gYHNlbGVjdDoke2N0eC5pZH06bGFiZWxgO1xudmFyIGdldENvbnRyb2xJZCA9IChjdHgpID0+IGN0eC5pZHM/LmNvbnRyb2wgPz8gYHNlbGVjdDoke2N0eC5pZH06Y29udHJvbGA7XG52YXIgZ2V0SXRlbUlkID0gKGN0eCwgaWQpID0+IGN0eC5pZHM/Lml0ZW0/LihpZCkgPz8gYHNlbGVjdDoke2N0eC5pZH06b3B0aW9uOiR7aWR9YDtcbnZhciBnZXRIaWRkZW5TZWxlY3RJZCA9IChjdHgpID0+IGN0eC5pZHM/LmhpZGRlblNlbGVjdCA/PyBgc2VsZWN0OiR7Y3R4LmlkfTpzZWxlY3RgO1xudmFyIGdldFBvc2l0aW9uZXJJZCA9IChjdHgpID0+IGN0eC5pZHM/LnBvc2l0aW9uZXIgPz8gYHNlbGVjdDoke2N0eC5pZH06cG9zaXRpb25lcmA7XG52YXIgZ2V0SXRlbUdyb3VwSWQgPSAoY3R4LCBpZCkgPT4gY3R4Lmlkcz8uaXRlbUdyb3VwPy4oaWQpID8/IGBzZWxlY3Q6JHtjdHguaWR9Om9wdGdyb3VwOiR7aWR9YDtcbnZhciBnZXRJdGVtR3JvdXBMYWJlbElkID0gKGN0eCwgaWQpID0+IGN0eC5pZHM/Lml0ZW1Hcm91cExhYmVsPy4oaWQpID8/IGBzZWxlY3Q6JHtjdHguaWR9Om9wdGdyb3VwLWxhYmVsOiR7aWR9YDtcbnZhciBnZXRIaWRkZW5TZWxlY3RFbCA9IChjdHgpID0+IGN0eC5nZXRCeUlkKGdldEhpZGRlblNlbGVjdElkKGN0eCkpO1xudmFyIGdldENvbnRlbnRFbCA9IChjdHgpID0+IGN0eC5nZXRCeUlkKGdldENvbnRlbnRJZChjdHgpKTtcbnZhciBnZXRUcmlnZ2VyRWwgPSAoY3R4KSA9PiBjdHguZ2V0QnlJZChnZXRUcmlnZ2VySWQoY3R4KSk7XG52YXIgZ2V0Q2xlYXJUcmlnZ2VyRWwgPSAoY3R4KSA9PiBjdHguZ2V0QnlJZChnZXRDbGVhclRyaWdnZXJJZChjdHgpKTtcbnZhciBnZXRQb3NpdGlvbmVyRWwgPSAoY3R4KSA9PiBjdHguZ2V0QnlJZChnZXRQb3NpdGlvbmVySWQoY3R4KSk7XG52YXIgZ2V0SXRlbUVsID0gKGN0eCwgaWQpID0+IGN0eC5nZXRCeUlkKGdldEl0ZW1JZChjdHgsIGlkKSk7XG5cbi8vIHNyYy9zZWxlY3QuY29ubmVjdC50c1xuZnVuY3Rpb24gY29ubmVjdChzZXJ2aWNlLCBub3JtYWxpemUpIHtcbiAgY29uc3QgeyBjb250ZXh0LCBwcm9wLCBzY29wZSwgc3RhdGUsIGNvbXB1dGVkLCBzZW5kIH0gPSBzZXJ2aWNlO1xuICBjb25zdCBkaXNhYmxlZCA9IHByb3AoXCJkaXNhYmxlZFwiKSB8fCBjb250ZXh0LmdldChcImZpZWxkc2V0RGlzYWJsZWRcIik7XG4gIGNvbnN0IGludmFsaWQgPSBwcm9wKFwiaW52YWxpZFwiKTtcbiAgY29uc3QgcmVhZE9ubHkgPSBwcm9wKFwicmVhZE9ubHlcIik7XG4gIGNvbnN0IGNvbXBvc2l0ZSA9IHByb3AoXCJjb21wb3NpdGVcIik7XG4gIGNvbnN0IGNvbGxlY3Rpb24yID0gcHJvcChcImNvbGxlY3Rpb25cIik7XG4gIGNvbnN0IG9wZW4gPSBzdGF0ZS5oYXNUYWcoXCJvcGVuXCIpO1xuICBjb25zdCBmb2N1c2VkID0gc3RhdGUubWF0Y2hlcyhcImZvY3VzZWRcIik7XG4gIGNvbnN0IGhpZ2hsaWdodGVkVmFsdWUgPSBjb250ZXh0LmdldChcImhpZ2hsaWdodGVkVmFsdWVcIik7XG4gIGNvbnN0IGhpZ2hsaWdodGVkSXRlbSA9IGNvbnRleHQuZ2V0KFwiaGlnaGxpZ2h0ZWRJdGVtXCIpO1xuICBjb25zdCBzZWxlY3RlZEl0ZW1zID0gY29udGV4dC5nZXQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICBjb25zdCBjdXJyZW50UGxhY2VtZW50ID0gY29udGV4dC5nZXQoXCJjdXJyZW50UGxhY2VtZW50XCIpO1xuICBjb25zdCBpc1R5cGluZ0FoZWFkID0gY29tcHV0ZWQoXCJpc1R5cGluZ0FoZWFkXCIpO1xuICBjb25zdCBpbnRlcmFjdGl2ZSA9IGNvbXB1dGVkKFwiaXNJbnRlcmFjdGl2ZVwiKTtcbiAgY29uc3QgYXJpYUFjdGl2ZURlc2NlbmRhbnQgPSBoaWdobGlnaHRlZFZhbHVlID8gZ2V0SXRlbUlkKHNjb3BlLCBoaWdobGlnaHRlZFZhbHVlKSA6IHZvaWQgMDtcbiAgZnVuY3Rpb24gZ2V0SXRlbVN0YXRlKHByb3BzMikge1xuICAgIGNvbnN0IF9kaXNhYmxlZCA9IGNvbGxlY3Rpb24yLmdldEl0ZW1EaXNhYmxlZChwcm9wczIuaXRlbSk7XG4gICAgY29uc3QgdmFsdWUgPSBjb2xsZWN0aW9uMi5nZXRJdGVtVmFsdWUocHJvcHMyLml0ZW0pO1xuICAgIGVuc3VyZSh2YWx1ZSwgKCkgPT4gYFt6YWctanNdIE5vIHZhbHVlIGZvdW5kIGZvciBpdGVtICR7SlNPTi5zdHJpbmdpZnkocHJvcHMyLml0ZW0pfWApO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGRpc2FibGVkOiBCb29sZWFuKGRpc2FibGVkIHx8IF9kaXNhYmxlZCksXG4gICAgICBoaWdobGlnaHRlZDogaGlnaGxpZ2h0ZWRWYWx1ZSA9PT0gdmFsdWUsXG4gICAgICBzZWxlY3RlZDogY29udGV4dC5nZXQoXCJ2YWx1ZVwiKS5pbmNsdWRlcyh2YWx1ZSlcbiAgICB9O1xuICB9XG4gIGNvbnN0IHBvcHBlclN0eWxlcyA9IGdldFBsYWNlbWVudFN0eWxlcyh7XG4gICAgLi4ucHJvcChcInBvc2l0aW9uaW5nXCIpLFxuICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBvcGVuLFxuICAgIGZvY3VzZWQsXG4gICAgZW1wdHk6IGNvbnRleHQuZ2V0KFwidmFsdWVcIikubGVuZ3RoID09PSAwLFxuICAgIGhpZ2hsaWdodGVkSXRlbSxcbiAgICBoaWdobGlnaHRlZFZhbHVlLFxuICAgIHNlbGVjdGVkSXRlbXMsXG4gICAgaGFzU2VsZWN0ZWRJdGVtczogY29tcHV0ZWQoXCJoYXNTZWxlY3RlZEl0ZW1zXCIpLFxuICAgIHZhbHVlOiBjb250ZXh0LmdldChcInZhbHVlXCIpLFxuICAgIHZhbHVlQXNTdHJpbmc6IGNvbnRleHQuZ2V0KFwidmFsdWVBc1N0cmluZ1wiKSxcbiAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uMixcbiAgICBtdWx0aXBsZTogISFwcm9wKFwibXVsdGlwbGVcIiksXG4gICAgZGlzYWJsZWQ6ICEhZGlzYWJsZWQsXG4gICAgcmVwb3NpdGlvbihvcHRpb25zID0ge30pIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIlBPU0lUSU9OSU5HLlNFVFwiLCBvcHRpb25zIH0pO1xuICAgIH0sXG4gICAgZm9jdXMoKSB7XG4gICAgICBnZXRUcmlnZ2VyRWwoc2NvcGUpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgfSxcbiAgICBzZXRPcGVuKG5leHRPcGVuKSB7XG4gICAgICBjb25zdCBvcGVuMiA9IHN0YXRlLmhhc1RhZyhcIm9wZW5cIik7XG4gICAgICBpZiAob3BlbjIgPT09IG5leHRPcGVuKSByZXR1cm47XG4gICAgICBzZW5kKHsgdHlwZTogbmV4dE9wZW4gPyBcIk9QRU5cIiA6IFwiQ0xPU0VcIiB9KTtcbiAgICB9LFxuICAgIHNlbGVjdFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJJVEVNLlNFTEVDVFwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWUgfSk7XG4gICAgfSxcbiAgICBzZWxlY3RBbGwoKSB7XG4gICAgICBzZW5kKHsgdHlwZTogXCJWQUxVRS5TRVRcIiwgdmFsdWU6IGNvbGxlY3Rpb24yLmdldFZhbHVlcygpIH0pO1xuICAgIH0sXG4gICAgaGlnaGxpZ2h0VmFsdWUodmFsdWUpIHtcbiAgICAgIHNlbmQoeyB0eXBlOiBcIkhJR0hMSUdIVEVEX1ZBTFVFLlNFVFwiLCB2YWx1ZSB9KTtcbiAgICB9LFxuICAgIGNsZWFyVmFsdWUodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBzZW5kKHsgdHlwZTogXCJJVEVNLkNMRUFSXCIsIHZhbHVlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VuZCh7IHR5cGU6IFwiVkFMVUUuQ0xFQVJcIiB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEl0ZW1TdGF0ZSxcbiAgICBnZXRSb290UHJvcHMoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5yb290LmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIGlkOiBnZXRSb290SWQoc2NvcGUpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKHJlYWRPbmx5KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRMYWJlbFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5sYWJlbCh7XG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgaWQ6IGdldExhYmVsSWQoc2NvcGUpLFxuICAgICAgICAuLi5wYXJ0cy5sYWJlbC5hdHRycyxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihyZWFkT25seSksXG4gICAgICAgIGh0bWxGb3I6IGdldEhpZGRlblNlbGVjdElkKHNjb3BlKSxcbiAgICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgICAgICAgZ2V0VHJpZ2dlckVsKHNjb3BlKT8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldENvbnRyb2xQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLmNvbnRyb2wuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgaWQ6IGdldENvbnRyb2xJZChzY29wZSksXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBvcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoZm9jdXNlZCksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGludmFsaWQpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFZhbHVlVGV4dFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgLi4ucGFydHMudmFsdWVUZXh0LmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGludmFsaWQpLFxuICAgICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoZm9jdXNlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0VHJpZ2dlclByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgICBpZDogZ2V0VHJpZ2dlcklkKHNjb3BlKSxcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgcm9sZTogXCJjb21ib2JveFwiLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogZ2V0Q29udGVudElkKHNjb3BlKSxcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IG9wZW4sXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImxpc3Rib3hcIixcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IG9wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCIsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGludmFsaWQsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGdldExhYmVsSWQoc2NvcGUpLFxuICAgICAgICAuLi5wYXJ0cy50cmlnZ2VyLmF0dHJzLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoZGlzYWJsZWQpLFxuICAgICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpbnZhbGlkKSxcbiAgICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKHJlYWRPbmx5KSxcbiAgICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBcImRhdGEtcGxhY2Vob2xkZXItc2hvd25cIjogZGF0YUF0dHIoIWNvbXB1dGVkKFwiaGFzU2VsZWN0ZWRJdGVtc1wiKSksXG4gICAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICBpZiAoIWludGVyYWN0aXZlKSByZXR1cm47XG4gICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkNMSUNLXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRm9jdXMoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5GT0NVU1wiIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkJsdXIoKSB7XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5CTFVSXCIgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGtleU1hcCA9IHtcbiAgICAgICAgICAgIEFycm93VXAoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuQVJST1dfVVBcIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBBcnJvd0Rvd24oZXZlbnQyKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBldmVudDIuYWx0S2V5ID8gXCJPUEVOXCIgOiBcIlRSSUdHRVIuQVJST1dfRE9XTlwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEFycm93TGVmdCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5BUlJPV19MRUZUXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dSaWdodCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5BUlJPV19SSUdIVFwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEhvbWUoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuSE9NRVwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEVuZCgpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5FTkRcIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbnRlcigpIHtcbiAgICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiVFJJR0dFUi5FTlRFUlwiIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFNwYWNlKGV2ZW50Mikge1xuICAgICAgICAgICAgICBpZiAoaXNUeXBpbmdBaGVhZCkge1xuICAgICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuVFlQRUFIRUFEXCIsIGtleTogZXZlbnQyLmtleSB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJUUklHR0VSLkVOVEVSXCIgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnN0IGV4ZWMgPSBrZXlNYXBbZ2V0RXZlbnRLZXkoZXZlbnQsIHtcbiAgICAgICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcInZlcnRpY2FsXCJcbiAgICAgICAgICB9KV07XG4gICAgICAgICAgaWYgKGV4ZWMpIHtcbiAgICAgICAgICAgIGV4ZWMoZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdldEJ5VHlwZWFoZWFkLmlzVmFsaWRFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIlRSSUdHRVIuVFlQRUFIRUFEXCIsIGtleTogZXZlbnQua2V5IH0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SW5kaWNhdG9yUHJvcHMoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pbmRpY2F0b3IuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogb3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWludmFsaWRcIjogZGF0YUF0dHIoaW52YWxpZCksXG4gICAgICAgIFwiZGF0YS1yZWFkb25seVwiOiBkYXRhQXR0cihyZWFkT25seSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbVByb3BzKHByb3BzMikge1xuICAgICAgY29uc3QgaXRlbVN0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzMik7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICBpZDogZ2V0SXRlbUlkKHNjb3BlLCBpdGVtU3RhdGUudmFsdWUpLFxuICAgICAgICByb2xlOiBcIm9wdGlvblwiLFxuICAgICAgICAuLi5wYXJ0cy5pdGVtLmF0dHJzLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiBpdGVtU3RhdGUudmFsdWUsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpdGVtU3RhdGUuc2VsZWN0ZWQsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpdGVtU3RhdGUuc2VsZWN0ZWQgPyBcImNoZWNrZWRcIiA6IFwidW5jaGVja2VkXCIsXG4gICAgICAgIFwiZGF0YS1oaWdobGlnaHRlZFwiOiBkYXRhQXR0cihpdGVtU3RhdGUuaGlnaGxpZ2h0ZWQpLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmRpc2FibGVkKSxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKGl0ZW1TdGF0ZS5kaXNhYmxlZCksXG4gICAgICAgIG9uUG9pbnRlck1vdmUoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoaXRlbVN0YXRlLmRpc2FibGVkIHx8IGV2ZW50LnBvaW50ZXJUeXBlICE9PSBcIm1vdXNlXCIpIHJldHVybjtcbiAgICAgICAgICBpZiAoaXRlbVN0YXRlLnZhbHVlID09PSBoaWdobGlnaHRlZFZhbHVlKSByZXR1cm47XG4gICAgICAgICAgc2VuZCh7IHR5cGU6IFwiSVRFTS5QT0lOVEVSX01PVkVcIiwgdmFsdWU6IGl0ZW1TdGF0ZS52YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGljayhldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKGl0ZW1TdGF0ZS5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklURU0uQ0xJQ0tcIiwgc3JjOiBcInBvaW50ZXJ1cFwiLCB2YWx1ZTogaXRlbVN0YXRlLnZhbHVlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJMZWF2ZShldmVudCkge1xuICAgICAgICAgIGlmIChpdGVtU3RhdGUuZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAocHJvcHMyLnBlcnNpc3RGb2N1cykgcmV0dXJuO1xuICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSAhPT0gXCJtb3VzZVwiKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgcG9pbnRlck1vdmVkID0gc2VydmljZS5ldmVudC5wcmV2aW91cygpPy50eXBlLmluY2x1ZGVzKFwiUE9JTlRFUlwiKTtcbiAgICAgICAgICBpZiAoIXBvaW50ZXJNb3ZlZCkgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklURU0uUE9JTlRFUl9MRUFWRVwiIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW1UZXh0UHJvcHMocHJvcHMyKSB7XG4gICAgICBjb25zdCBpdGVtU3RhdGUgPSBnZXRJdGVtU3RhdGUocHJvcHMyKTtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLml0ZW1UZXh0LmF0dHJzLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogaXRlbVN0YXRlLnNlbGVjdGVkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXRlbVN0YXRlLmRpc2FibGVkKSxcbiAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGl0ZW1TdGF0ZS5oaWdobGlnaHRlZClcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbUluZGljYXRvclByb3BzKHByb3BzMikge1xuICAgICAgY29uc3QgaXRlbVN0YXRlID0gZ2V0SXRlbVN0YXRlKHByb3BzMik7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICAgIC4uLnBhcnRzLml0ZW1JbmRpY2F0b3IuYXR0cnMsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpdGVtU3RhdGUuc2VsZWN0ZWQgPyBcImNoZWNrZWRcIiA6IFwidW5jaGVja2VkXCIsXG4gICAgICAgIGhpZGRlbjogIWl0ZW1TdGF0ZS5zZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtR3JvdXBMYWJlbFByb3BzKHByb3BzMikge1xuICAgICAgY29uc3QgeyBodG1sRm9yIH0gPSBwcm9wczI7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtR3JvdXBMYWJlbC5hdHRycyxcbiAgICAgICAgaWQ6IGdldEl0ZW1Hcm91cExhYmVsSWQoc2NvcGUsIGh0bWxGb3IpLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCJcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SXRlbUdyb3VwUHJvcHMocHJvcHMyKSB7XG4gICAgICBjb25zdCB7IGlkIH0gPSBwcm9wczI7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5pdGVtR3JvdXAuYXR0cnMsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihkaXNhYmxlZCksXG4gICAgICAgIGlkOiBnZXRJdGVtR3JvdXBJZChzY29wZSwgaWQpLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBnZXRJdGVtR3JvdXBMYWJlbElkKHNjb3BlLCBpZCksXG4gICAgICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldENsZWFyVHJpZ2dlclByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5idXR0b24oe1xuICAgICAgICAuLi5wYXJ0cy5jbGVhclRyaWdnZXIuYXR0cnMsXG4gICAgICAgIGlkOiBnZXRDbGVhclRyaWdnZXJJZChzY29wZSksXG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkNsZWFyIHZhbHVlXCIsXG4gICAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGludmFsaWQpLFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgaGlkZGVuOiAhY29tcHV0ZWQoXCJoYXNTZWxlY3RlZEl0ZW1zXCIpLFxuICAgICAgICBkaXI6IHByb3AoXCJkaXJcIiksXG4gICAgICAgIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNMRUFSLkNMSUNLXCIgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0SGlkZGVuU2VsZWN0UHJvcHMoKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbnRleHQuZ2V0KFwidmFsdWVcIik7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBwcm9wKFwibXVsdGlwbGVcIikgPyB2YWx1ZSA6IHZhbHVlPy5bMF07XG4gICAgICByZXR1cm4gbm9ybWFsaXplLnNlbGVjdCh7XG4gICAgICAgIG5hbWU6IHByb3AoXCJuYW1lXCIpLFxuICAgICAgICBmb3JtOiBwcm9wKFwiZm9ybVwiKSxcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIG11bHRpcGxlOiBwcm9wKFwibXVsdGlwbGVcIiksXG4gICAgICAgIHJlcXVpcmVkOiBwcm9wKFwicmVxdWlyZWRcIiksXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgICAgaWQ6IGdldEhpZGRlblNlbGVjdElkKHNjb3BlKSxcbiAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICBzdHlsZTogdmlzdWFsbHlIaWRkZW5TdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICAvLyBTb21lIGJyb3dzZXIgZXh0ZW5zaW9ucyB3aWxsIGZvY3VzIHRoZSBoaWRkZW4gc2VsZWN0LlxuICAgICAgICAvLyBMZXQncyBmb3J3YXJkIHRoZSBmb2N1cyB0byB0aGUgdHJpZ2dlci5cbiAgICAgICAgb25Gb2N1cygpIHtcbiAgICAgICAgICBnZXRUcmlnZ2VyRWwoc2NvcGUpPy5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGdldExhYmVsSWQoc2NvcGUpXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldFBvc2l0aW9uZXJQcm9wcygpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemUuZWxlbWVudCh7XG4gICAgICAgIC4uLnBhcnRzLnBvc2l0aW9uZXIuYXR0cnMsXG4gICAgICAgIGRpcjogcHJvcChcImRpclwiKSxcbiAgICAgICAgaWQ6IGdldFBvc2l0aW9uZXJJZChzY29wZSksXG4gICAgICAgIHN0eWxlOiBwb3BwZXJTdHlsZXMuZmxvYXRpbmdcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0Q29udGVudFByb3BzKCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZS5lbGVtZW50KHtcbiAgICAgICAgaGlkZGVuOiAhb3BlbixcbiAgICAgICAgZGlyOiBwcm9wKFwiZGlyXCIpLFxuICAgICAgICBpZDogZ2V0Q29udGVudElkKHNjb3BlKSxcbiAgICAgICAgcm9sZTogY29tcG9zaXRlID8gXCJsaXN0Ym94XCIgOiBcImRpYWxvZ1wiLFxuICAgICAgICAuLi5wYXJ0cy5jb250ZW50LmF0dHJzLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogb3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIixcbiAgICAgICAgXCJkYXRhLXBsYWNlbWVudFwiOiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBcImRhdGEtYWN0aXZlZGVzY2VuZGFudFwiOiBhcmlhQWN0aXZlRGVzY2VuZGFudCxcbiAgICAgICAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogY29tcG9zaXRlID8gYXJpYUFjdGl2ZURlc2NlbmRhbnQgOiB2b2lkIDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIjogcHJvcChcIm11bHRpcGxlXCIpICYmIGNvbXBvc2l0ZSA/IHRydWUgOiB2b2lkIDAsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGdldExhYmVsSWQoc2NvcGUpLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCFpbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgIGlmICghaXNTZWxmVGFyZ2V0KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gaXNWYWxpZFRhYkV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBrZXlNYXAgPSB7XG4gICAgICAgICAgICBBcnJvd1VwKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkFSUk9XX1VQXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQXJyb3dEb3duKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkFSUk9XX0RPV05cIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBIb21lKCkge1xuICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULkhPTUVcIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBFbmQoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNPTlRFTlQuRU5EXCIgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRW50ZXIoKSB7XG4gICAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIklURU0uQ0xJQ0tcIiwgc3JjOiBcImtleWRvd24uZW50ZXJcIiB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTcGFjZShldmVudDIpIHtcbiAgICAgICAgICAgICAgaWYgKGlzVHlwaW5nQWhlYWQpIHtcbiAgICAgICAgICAgICAgICBzZW5kKHsgdHlwZTogXCJDT05URU5ULlRZUEVBSEVBRFwiLCBrZXk6IGV2ZW50Mi5rZXkgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5TWFwLkVudGVyPy4oZXZlbnQyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgZXhlYyA9IGtleU1hcFtnZXRFdmVudEtleShldmVudCldO1xuICAgICAgICAgIGlmIChleGVjKSB7XG4gICAgICAgICAgICBleGVjKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICAgICAgICBpZiAoaXNFZGl0YWJsZUVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZ2V0QnlUeXBlYWhlYWQuaXNWYWxpZEV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgc2VuZCh7IHR5cGU6IFwiQ09OVEVOVC5UWVBFQUhFQURcIiwga2V5OiBldmVudC5rZXkgfSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRMaXN0UHJvcHMoKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplLmVsZW1lbnQoe1xuICAgICAgICAuLi5wYXJ0cy5saXN0LmF0dHJzLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgcm9sZTogIWNvbXBvc2l0ZSA/IFwibGlzdGJveFwiIDogdm9pZCAwLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBnZXRUcmlnZ2VySWQoc2NvcGUpLFxuICAgICAgICBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOiAhY29tcG9zaXRlID8gYXJpYUFjdGl2ZURlc2NlbmRhbnQgOiB2b2lkIDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIjogIWNvbXBvc2l0ZSAmJiBwcm9wKFwibXVsdGlwbGVcIikgPyB0cnVlIDogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG52YXIgeyBhbmQsIG5vdCwgb3IgfSA9IGNyZWF0ZUd1YXJkcygpO1xudmFyIG1hY2hpbmUgPSBjcmVhdGVNYWNoaW5lKHtcbiAgcHJvcHMoeyBwcm9wczogcHJvcHMyIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9vcEZvY3VzOiBmYWxzZSxcbiAgICAgIGNsb3NlT25TZWxlY3Q6ICFwcm9wczIubXVsdGlwbGUsXG4gICAgICBjb21wb3NpdGU6IHRydWUsXG4gICAgICBkZWZhdWx0VmFsdWU6IFtdLFxuICAgICAgLi4ucHJvcHMyLFxuICAgICAgY29sbGVjdGlvbjogcHJvcHMyLmNvbGxlY3Rpb24gPz8gY29sbGVjdGlvbi5lbXB0eSgpLFxuICAgICAgcG9zaXRpb25pbmc6IHtcbiAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbS1zdGFydFwiLFxuICAgICAgICBndXR0ZXI6IDgsXG4gICAgICAgIC4uLnByb3BzMi5wb3NpdGlvbmluZ1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNvbnRleHQoeyBwcm9wLCBiaW5kYWJsZSB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHByb3AoXCJkZWZhdWx0VmFsdWVcIiksXG4gICAgICAgIHZhbHVlOiBwcm9wKFwidmFsdWVcIiksXG4gICAgICAgIGlzRXF1YWwsXG4gICAgICAgIG9uQ2hhbmdlKHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgaXRlbXMgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5maW5kTWFueSh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHByb3AoXCJvblZhbHVlQ2hhbmdlXCIpPy4oeyB2YWx1ZSwgaXRlbXMgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pKSxcbiAgICAgIGhpZ2hsaWdodGVkVmFsdWU6IGJpbmRhYmxlKCgpID0+ICh7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogcHJvcChcImRlZmF1bHRIaWdobGlnaHRlZFZhbHVlXCIpIHx8IG51bGwsXG4gICAgICAgIHZhbHVlOiBwcm9wKFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiKSxcbiAgICAgICAgb25DaGFuZ2UodmFsdWUpIHtcbiAgICAgICAgICBwcm9wKFwib25IaWdobGlnaHRDaGFuZ2VcIik/Lih7XG4gICAgICAgICAgICBoaWdobGlnaHRlZFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIGhpZ2hsaWdodGVkSXRlbTogcHJvcChcImNvbGxlY3Rpb25cIikuZmluZCh2YWx1ZSksXG4gICAgICAgICAgICBoaWdobGlnaHRlZEluZGV4OiBwcm9wKFwiY29sbGVjdGlvblwiKS5pbmRleE9mKHZhbHVlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSksXG4gICAgICBjdXJyZW50UGxhY2VtZW50OiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHZvaWQgMFxuICAgICAgfSkpLFxuICAgICAgZmllbGRzZXREaXNhYmxlZDogYmluZGFibGUoKCkgPT4gKHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZVxuICAgICAgfSkpLFxuICAgICAgaGlnaGxpZ2h0ZWRJdGVtOiBiaW5kYWJsZSgoKSA9PiAoe1xuICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGxcbiAgICAgIH0pKSxcbiAgICAgIHNlbGVjdGVkSXRlbXM6IGJpbmRhYmxlKCgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwidmFsdWVcIikgPz8gcHJvcChcImRlZmF1bHRWYWx1ZVwiKSA/PyBbXTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5maW5kTWFueSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB7IGRlZmF1bHRWYWx1ZTogaXRlbXMgfTtcbiAgICAgIH0pLFxuICAgICAgdmFsdWVBc1N0cmluZzogYmluZGFibGUoKCkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3AoXCJ2YWx1ZVwiKSA/PyBwcm9wKFwiZGVmYXVsdFZhbHVlXCIpID8/IFtdO1xuICAgICAgICByZXR1cm4geyBkZWZhdWx0VmFsdWU6IHByb3AoXCJjb2xsZWN0aW9uXCIpLnN0cmluZ2lmeU1hbnkodmFsdWUpIH07XG4gICAgICB9KVxuICAgIH07XG4gIH0sXG4gIHJlZnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGVhaGVhZDogeyAuLi5nZXRCeVR5cGVhaGVhZC5kZWZhdWx0T3B0aW9ucyB9XG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBoYXNTZWxlY3RlZEl0ZW1zOiAoeyBjb250ZXh0IH0pID0+IGNvbnRleHQuZ2V0KFwidmFsdWVcIikubGVuZ3RoID4gMCxcbiAgICBpc1R5cGluZ0FoZWFkOiAoeyByZWZzIH0pID0+IHJlZnMuZ2V0KFwidHlwZWFoZWFkXCIpLmtleXNTb0ZhciAhPT0gXCJcIixcbiAgICBpc0Rpc2FibGVkOiAoeyBwcm9wLCBjb250ZXh0IH0pID0+ICEhcHJvcChcImRpc2FibGVkXCIpIHx8ICEhY29udGV4dC5nZXQoXCJmaWVsZHNldERpc2FibGVkXCIpLFxuICAgIGlzSW50ZXJhY3RpdmU6ICh7IHByb3AgfSkgPT4gIShwcm9wKFwiZGlzYWJsZWRcIikgfHwgcHJvcChcInJlYWRPbmx5XCIpKVxuICB9LFxuICBpbml0aWFsU3RhdGUoeyBwcm9wIH0pIHtcbiAgICBjb25zdCBvcGVuID0gcHJvcChcIm9wZW5cIikgfHwgcHJvcChcImRlZmF1bHRPcGVuXCIpO1xuICAgIHJldHVybiBvcGVuID8gXCJvcGVuXCIgOiBcImlkbGVcIjtcbiAgfSxcbiAgZW50cnk6IFtcInN5bmNTZWxlY3RFbGVtZW50XCJdLFxuICB3YXRjaCh7IGNvbnRleHQsIHByb3AsIHRyYWNrLCBhY3Rpb24gfSkge1xuICAgIHRyYWNrKFsoKSA9PiBjb250ZXh0LmdldChcInZhbHVlXCIpLnRvU3RyaW5nKCldLCAoKSA9PiB7XG4gICAgICBhY3Rpb24oW1wic3luY1NlbGVjdGVkSXRlbXNcIiwgXCJzeW5jU2VsZWN0RWxlbWVudFwiLCBcImRpc3BhdGNoQ2hhbmdlRXZlbnRcIl0pO1xuICAgIH0pO1xuICAgIHRyYWNrKFsoKSA9PiBwcm9wKFwib3BlblwiKV0sICgpID0+IHtcbiAgICAgIGFjdGlvbihbXCJ0b2dnbGVWaXNpYmlsaXR5XCJdKTtcbiAgICB9KTtcbiAgICB0cmFjayhbKCkgPT4gY29udGV4dC5nZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIpXSwgKCkgPT4ge1xuICAgICAgYWN0aW9uKFtcInN5bmNIaWdobGlnaHRlZEl0ZW1cIl0pO1xuICAgIH0pO1xuICAgIHRyYWNrKFsoKSA9PiBwcm9wKFwiY29sbGVjdGlvblwiKS50b1N0cmluZygpXSwgKCkgPT4ge1xuICAgICAgYWN0aW9uKFtcInN5bmNDb2xsZWN0aW9uXCJdKTtcbiAgICB9KTtcbiAgfSxcbiAgb246IHtcbiAgICBcIkhJR0hMSUdIVEVEX1ZBTFVFLlNFVFwiOiB7XG4gICAgICBhY3Rpb25zOiBbXCJzZXRIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICB9LFxuICAgIFwiSVRFTS5TRUxFQ1RcIjoge1xuICAgICAgYWN0aW9uczogW1wic2VsZWN0SXRlbVwiXVxuICAgIH0sXG4gICAgXCJJVEVNLkNMRUFSXCI6IHtcbiAgICAgIGFjdGlvbnM6IFtcImNsZWFySXRlbVwiXVxuICAgIH0sXG4gICAgXCJWQUxVRS5TRVRcIjoge1xuICAgICAgYWN0aW9uczogW1wic2V0U2VsZWN0ZWRJdGVtc1wiXVxuICAgIH0sXG4gICAgXCJWQUxVRS5DTEVBUlwiOiB7XG4gICAgICBhY3Rpb25zOiBbXCJjbGVhclNlbGVjdGVkSXRlbXNcIl1cbiAgICB9LFxuICAgIFwiQ0xFQVIuQ0xJQ0tcIjoge1xuICAgICAgYWN0aW9uczogW1wiY2xlYXJTZWxlY3RlZEl0ZW1zXCIsIFwiZm9jdXNUcmlnZ2VyRWxcIl1cbiAgICB9XG4gIH0sXG4gIGVmZmVjdHM6IFtcInRyYWNrRm9ybUNvbnRyb2xTdGF0ZVwiXSxcbiAgc3RhdGVzOiB7XG4gICAgaWRsZToge1xuICAgICAgdGFnczogW1wiY2xvc2VkXCJdLFxuICAgICAgb246IHtcbiAgICAgICAgXCJDT05UUk9MTEVELk9QRU5cIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzVHJpZ2dlckNsaWNrRXZlbnRcIixcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc09wZW5Db250cm9sbGVkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIiwgXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJUUklHR0VSLkZPQ1VTXCI6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiZm9jdXNlZFwiXG4gICAgICAgIH0sXG4gICAgICAgIE9QRU46IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc09wZW5Db250cm9sbGVkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LFxuICAgIGZvY3VzZWQ6IHtcbiAgICAgIHRhZ3M6IFtcImNsb3NlZFwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiQ09OVFJPTExFRC5PUEVOXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc1RyaWdnZXJDbGlja0V2ZW50XCIsXG4gICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0SW5pdGlhbEZvY3VzXCIsIFwiaGlnaGxpZ2h0Rmlyc3RTZWxlY3RlZEl0ZW1cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzVHJpZ2dlckFycm93VXBFdmVudFwiLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImhpZ2hsaWdodENvbXB1dGVkTGFzdEl0ZW1cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBvcihcImlzVHJpZ2dlckFycm93RG93bkV2ZW50XCIsIFwiaXNUcmlnZ2VyRW50ZXJFdmVudFwiKSxcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJoaWdobGlnaHRDb21wdXRlZEZpcnN0SXRlbVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgT1BFTjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzT3BlbkNvbnRyb2xsZWRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0OiBcIm9wZW5cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEluaXRpYWxGb2N1c1wiLCBcImludm9rZU9uT3BlblwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJUUklHR0VSLkJMVVJcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJpZGxlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJUUklHR0VSLkNMSUNLXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc09wZW5Db250cm9sbGVkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJpbnZva2VPbk9wZW5cIiwgXCJoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJUUklHR0VSLkVOVEVSXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc09wZW5Db250cm9sbGVkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJpbnZva2VPbk9wZW5cIiwgXCJoaWdobGlnaHRDb21wdXRlZEZpcnN0SXRlbVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJUUklHR0VSLkFSUk9XX1VQXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJpc09wZW5Db250cm9sbGVkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbk9wZW5cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJvcGVuXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRJbml0aWFsRm9jdXNcIiwgXCJpbnZva2VPbk9wZW5cIiwgXCJoaWdobGlnaHRDb21wdXRlZExhc3RJdGVtXCJdXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcIlRSSUdHRVIuQVJST1dfRE9XTlwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaXNPcGVuQ29udHJvbGxlZFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25PcGVuXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0YXJnZXQ6IFwib3BlblwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2V0SW5pdGlhbEZvY3VzXCIsIFwiaW52b2tlT25PcGVuXCIsIFwiaGlnaGxpZ2h0Q29tcHV0ZWRGaXJzdEl0ZW1cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiVFJJR0dFUi5BUlJPV19MRUZUXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogYW5kKG5vdChcIm11bHRpcGxlXCIpLCBcImhhc1NlbGVjdGVkSXRlbXNcIiksXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RQcmV2aW91c0l0ZW1cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBub3QoXCJtdWx0aXBsZVwiKSxcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdExhc3RJdGVtXCJdXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcIlRSSUdHRVIuQVJST1dfUklHSFRcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBhbmQobm90KFwibXVsdGlwbGVcIiksIFwiaGFzU2VsZWN0ZWRJdGVtc1wiKSxcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdE5leHRJdGVtXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogbm90KFwibXVsdGlwbGVcIiksXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RGaXJzdEl0ZW1cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiVFJJR0dFUi5IT01FXCI6IHtcbiAgICAgICAgICBndWFyZDogbm90KFwibXVsdGlwbGVcIiksXG4gICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0Rmlyc3RJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiVFJJR0dFUi5FTkRcIjoge1xuICAgICAgICAgIGd1YXJkOiBub3QoXCJtdWx0aXBsZVwiKSxcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RMYXN0SXRlbVwiXVxuICAgICAgICB9LFxuICAgICAgICBcIlRSSUdHRVIuVFlQRUFIRUFEXCI6IHtcbiAgICAgICAgICBndWFyZDogbm90KFwibXVsdGlwbGVcIiksXG4gICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0TWF0Y2hpbmdJdGVtXCJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRhZ3M6IFtcIm9wZW5cIl0sXG4gICAgICBleGl0OiBbXCJzY3JvbGxDb250ZW50VG9Ub3BcIl0sXG4gICAgICBlZmZlY3RzOiBbXCJ0cmFja0Rpc21pc3NhYmxlRWxlbWVudFwiLCBcImNvbXB1dGVQbGFjZW1lbnRcIiwgXCJzY3JvbGxUb0hpZ2hsaWdodGVkSXRlbVwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiQ09OVFJPTExFRC5DTE9TRVwiOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXCJmb2N1c1RyaWdnZXJFbFwiLCBcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIENMT1NFOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaXNPcGVuQ29udHJvbGxlZFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIiwgXCJmb2N1c1RyaWdnZXJFbFwiLCBcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcIlRSSUdHRVIuQ0xJQ0tcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzT3BlbkNvbnRyb2xsZWRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcImludm9rZU9uQ2xvc2VcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhcmdldDogXCJmb2N1c2VkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJpbnZva2VPbkNsb3NlXCIsIFwiY2xlYXJIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiSVRFTS5DTElDS1wiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImNsb3NlT25TZWxlY3RcIiwgXCJpc09wZW5Db250cm9sbGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1wic2VsZWN0SGlnaGxpZ2h0ZWRJdGVtXCIsIFwiaW52b2tlT25DbG9zZVwiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiY2xvc2VPblNlbGVjdFwiLFxuICAgICAgICAgICAgdGFyZ2V0OiBcImZvY3VzZWRcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNlbGVjdEhpZ2hsaWdodGVkSXRlbVwiLCBcImludm9rZU9uQ2xvc2VcIiwgXCJmb2N1c1RyaWdnZXJFbFwiLCBcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJzZWxlY3RIaWdobGlnaHRlZEl0ZW1cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiQ09OVEVOVC5IT01FXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRGaXJzdEl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJDT05URU5ULkVORFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TGFzdEl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJDT05URU5ULkFSUk9XX0RPV05cIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBhbmQoXCJoYXNIaWdobGlnaHRlZEl0ZW1cIiwgXCJsb29wXCIsIFwiaXNMYXN0SXRlbUhpZ2hsaWdodGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0Rmlyc3RJdGVtXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJoYXNIaWdobGlnaHRlZEl0ZW1cIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodE5leHRJdGVtXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRGaXJzdEl0ZW1cIl1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiQ09OVEVOVC5BUlJPV19VUFwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IGFuZChcImhhc0hpZ2hsaWdodGVkSXRlbVwiLCBcImxvb3BcIiwgXCJpc0ZpcnN0SXRlbUhpZ2hsaWdodGVkXCIpLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TGFzdEl0ZW1cIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImhhc0hpZ2hsaWdodGVkSXRlbVwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0UHJldmlvdXNJdGVtXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJoaWdobGlnaHRMYXN0SXRlbVwiXVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJDT05URU5ULlRZUEVBSEVBRFwiOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wiaGlnaGxpZ2h0TWF0Y2hpbmdJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSVRFTS5QT0lOVEVSX01PVkVcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImhpZ2hsaWdodEl0ZW1cIl1cbiAgICAgICAgfSxcbiAgICAgICAgXCJJVEVNLlBPSU5URVJfTEVBVkVcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImNsZWFySGlnaGxpZ2h0ZWRJdGVtXCJdXG4gICAgICAgIH0sXG4gICAgICAgIFwiUE9TSVRJT05JTkcuU0VUXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJyZXBvc2l0aW9uXCJdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGltcGxlbWVudGF0aW9uczoge1xuICAgIGd1YXJkczoge1xuICAgICAgbG9vcDogKHsgcHJvcCB9KSA9PiAhIXByb3AoXCJsb29wRm9jdXNcIiksXG4gICAgICBtdWx0aXBsZTogKHsgcHJvcCB9KSA9PiAhIXByb3AoXCJtdWx0aXBsZVwiKSxcbiAgICAgIGhhc1NlbGVjdGVkSXRlbXM6ICh7IGNvbXB1dGVkIH0pID0+ICEhY29tcHV0ZWQoXCJoYXNTZWxlY3RlZEl0ZW1zXCIpLFxuICAgICAgaGFzSGlnaGxpZ2h0ZWRJdGVtOiAoeyBjb250ZXh0IH0pID0+IGNvbnRleHQuZ2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiKSAhPSBudWxsLFxuICAgICAgaXNGaXJzdEl0ZW1IaWdobGlnaHRlZDogKHsgY29udGV4dCwgcHJvcCB9KSA9PiBjb250ZXh0LmdldChcImhpZ2hsaWdodGVkVmFsdWVcIikgPT09IHByb3AoXCJjb2xsZWN0aW9uXCIpLmZpcnN0VmFsdWUsXG4gICAgICBpc0xhc3RJdGVtSGlnaGxpZ2h0ZWQ6ICh7IGNvbnRleHQsIHByb3AgfSkgPT4gY29udGV4dC5nZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIpID09PSBwcm9wKFwiY29sbGVjdGlvblwiKS5sYXN0VmFsdWUsXG4gICAgICBjbG9zZU9uU2VsZWN0OiAoeyBwcm9wLCBldmVudCB9KSA9PiAhIShldmVudC5jbG9zZU9uU2VsZWN0ID8/IHByb3AoXCJjbG9zZU9uU2VsZWN0XCIpKSxcbiAgICAgIC8vIGd1YXJkIGFzc2VydGlvbnMgKGZvciBjb250cm9sbGVkIG1vZGUpXG4gICAgICBpc09wZW5Db250cm9sbGVkOiAoeyBwcm9wIH0pID0+IHByb3AoXCJvcGVuXCIpICE9PSB2b2lkIDAsXG4gICAgICBpc1RyaWdnZXJDbGlja0V2ZW50OiAoeyBldmVudCB9KSA9PiBldmVudC5wcmV2aW91c0V2ZW50Py50eXBlID09PSBcIlRSSUdHRVIuQ0xJQ0tcIixcbiAgICAgIGlzVHJpZ2dlckVudGVyRXZlbnQ6ICh7IGV2ZW50IH0pID0+IGV2ZW50LnByZXZpb3VzRXZlbnQ/LnR5cGUgPT09IFwiVFJJR0dFUi5FTlRFUlwiLFxuICAgICAgaXNUcmlnZ2VyQXJyb3dVcEV2ZW50OiAoeyBldmVudCB9KSA9PiBldmVudC5wcmV2aW91c0V2ZW50Py50eXBlID09PSBcIlRSSUdHRVIuQVJST1dfVVBcIixcbiAgICAgIGlzVHJpZ2dlckFycm93RG93bkV2ZW50OiAoeyBldmVudCB9KSA9PiBldmVudC5wcmV2aW91c0V2ZW50Py50eXBlID09PSBcIlRSSUdHRVIuQVJST1dfRE9XTlwiXG4gICAgfSxcbiAgICBlZmZlY3RzOiB7XG4gICAgICB0cmFja0Zvcm1Db250cm9sU3RhdGUoeyBjb250ZXh0LCBzY29wZSB9KSB7XG4gICAgICAgIHJldHVybiB0cmFja0Zvcm1Db250cm9sKGdldEhpZGRlblNlbGVjdEVsKHNjb3BlKSwge1xuICAgICAgICAgIG9uRmllbGRzZXREaXNhYmxlZENoYW5nZShkaXNhYmxlZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZXQoXCJmaWVsZHNldERpc2FibGVkXCIsIGRpc2FibGVkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRm9ybVJlc2V0KCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb250ZXh0LmluaXRpYWwoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoeyBzY29wZSwgc2VuZCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9ICgpID0+IGdldENvbnRlbnRFbChzY29wZSk7XG4gICAgICAgIGxldCByZXN0b3JlRm9jdXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJhY2tEaXNtaXNzYWJsZUVsZW1lbnQoY29udGVudEVsLCB7XG4gICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgZXhjbHVkZTogW2dldFRyaWdnZXJFbChzY29wZSksIGdldENsZWFyVHJpZ2dlckVsKHNjb3BlKV0sXG4gICAgICAgICAgb25Gb2N1c091dHNpZGU6IHByb3AoXCJvbkZvY3VzT3V0c2lkZVwiKSxcbiAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZTogcHJvcChcIm9uUG9pbnRlckRvd25PdXRzaWRlXCIpLFxuICAgICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlKGV2ZW50KSB7XG4gICAgICAgICAgICBwcm9wKFwib25JbnRlcmFjdE91dHNpZGVcIik/LihldmVudCk7XG4gICAgICAgICAgICByZXN0b3JlRm9jdXMgPSAhKGV2ZW50LmRldGFpbC5mb2N1c2FibGUgfHwgZXZlbnQuZGV0YWlsLmNvbnRleHRtZW51KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRGlzbWlzcygpIHtcbiAgICAgICAgICAgIHNlbmQoeyB0eXBlOiBcIkNMT1NFXCIsIHNyYzogXCJpbnRlcmFjdC1vdXRzaWRlXCIsIHJlc3RvcmVGb2N1cyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNvbXB1dGVQbGFjZW1lbnQoeyBjb250ZXh0LCBwcm9wLCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uaW5nID0gcHJvcChcInBvc2l0aW9uaW5nXCIpO1xuICAgICAgICBjb250ZXh0LnNldChcImN1cnJlbnRQbGFjZW1lbnRcIiwgcG9zaXRpb25pbmcucGxhY2VtZW50KTtcbiAgICAgICAgY29uc3QgdHJpZ2dlckVsID0gKCkgPT4gZ2V0VHJpZ2dlckVsKHNjb3BlKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25lckVsID0gKCkgPT4gZ2V0UG9zaXRpb25lckVsKHNjb3BlKTtcbiAgICAgICAgcmV0dXJuIGdldFBsYWNlbWVudCh0cmlnZ2VyRWwsIHBvc2l0aW9uZXJFbCwge1xuICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgIC4uLnBvc2l0aW9uaW5nLFxuICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgY29udGV4dC5zZXQoXCJjdXJyZW50UGxhY2VtZW50XCIsIGRhdGEucGxhY2VtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNjcm9sbFRvSGlnaGxpZ2h0ZWRJdGVtKHsgY29udGV4dCwgcHJvcCwgc2NvcGUsIGV2ZW50IH0pIHtcbiAgICAgICAgY29uc3QgZXhlYyA9IChpbW1lZGlhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBoaWdobGlnaHRlZFZhbHVlID0gY29udGV4dC5nZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIpO1xuICAgICAgICAgIGlmIChoaWdobGlnaHRlZFZhbHVlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudCgpLnR5cGUuaW5jbHVkZXMoXCJQT0lOVEVSXCIpKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgb3B0aW9uRWwgPSBnZXRJdGVtRWwoc2NvcGUsIGhpZ2hsaWdodGVkVmFsdWUpO1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbDIgPSBnZXRDb250ZW50RWwoc2NvcGUpO1xuICAgICAgICAgIGNvbnN0IHNjcm9sbFRvSW5kZXhGbiA9IHByb3AoXCJzY3JvbGxUb0luZGV4Rm5cIik7XG4gICAgICAgICAgaWYgKHNjcm9sbFRvSW5kZXhGbikge1xuICAgICAgICAgICAgY29uc3QgaGlnaGxpZ2h0ZWRJbmRleCA9IHByb3AoXCJjb2xsZWN0aW9uXCIpLmluZGV4T2YoaGlnaGxpZ2h0ZWRWYWx1ZSk7XG4gICAgICAgICAgICBzY3JvbGxUb0luZGV4Rm4/Lih7IGluZGV4OiBoaWdobGlnaHRlZEluZGV4LCBpbW1lZGlhdGUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjcm9sbEludG9WaWV3KG9wdGlvbkVsLCB7IHJvb3RFbDogY29udGVudEVsMiwgYmxvY2s6IFwibmVhcmVzdFwiIH0pO1xuICAgICAgICB9O1xuICAgICAgICByYWYoKCkgPT4gZXhlYyh0cnVlKSk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9ICgpID0+IGdldENvbnRlbnRFbChzY29wZSk7XG4gICAgICAgIHJldHVybiBvYnNlcnZlQXR0cmlidXRlcyhjb250ZW50RWwsIHtcbiAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiBbXCJkYXRhLWFjdGl2ZWRlc2NlbmRhbnRcIl0sXG4gICAgICAgICAgY2FsbGJhY2soKSB7XG4gICAgICAgICAgICBleGVjKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgYWN0aW9uczoge1xuICAgICAgcmVwb3NpdGlvbih7IGNvbnRleHQsIHByb3AsIHNjb3BlLCBldmVudCB9KSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uZXJFbCA9ICgpID0+IGdldFBvc2l0aW9uZXJFbChzY29wZSk7XG4gICAgICAgIGdldFBsYWNlbWVudChnZXRUcmlnZ2VyRWwoc2NvcGUpLCBwb3NpdGlvbmVyRWwsIHtcbiAgICAgICAgICAuLi5wcm9wKFwicG9zaXRpb25pbmdcIiksXG4gICAgICAgICAgLi4uZXZlbnQub3B0aW9ucyxcbiAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICBsaXN0ZW5lcnM6IGZhbHNlLFxuICAgICAgICAgIG9uQ29tcGxldGUoZGF0YSkge1xuICAgICAgICAgICAgY29udGV4dC5zZXQoXCJjdXJyZW50UGxhY2VtZW50XCIsIGRhdGEucGxhY2VtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZVZpc2liaWxpdHkoeyBzZW5kLCBwcm9wLCBldmVudCB9KSB7XG4gICAgICAgIHNlbmQoeyB0eXBlOiBwcm9wKFwib3BlblwiKSA/IFwiQ09OVFJPTExFRC5PUEVOXCIgOiBcIkNPTlRST0xMRUQuQ0xPU0VcIiwgcHJldmlvdXNFdmVudDogZXZlbnQgfSk7XG4gICAgICB9LFxuICAgICAgaGlnaGxpZ2h0UHJldmlvdXNJdGVtKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodGVkVmFsdWUgPSBjb250ZXh0LmdldChcImhpZ2hsaWdodGVkVmFsdWVcIik7XG4gICAgICAgIGlmIChoaWdobGlnaHRlZFZhbHVlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5nZXRQcmV2aW91c1ZhbHVlKGhpZ2hsaWdodGVkVmFsdWUsIDEsIHByb3AoXCJsb29wRm9jdXNcIikpO1xuICAgICAgICBjb250ZXh0LnNldChcImhpZ2hsaWdodGVkVmFsdWVcIiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodE5leHRJdGVtKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodGVkVmFsdWUgPSBjb250ZXh0LmdldChcImhpZ2hsaWdodGVkVmFsdWVcIik7XG4gICAgICAgIGlmIChoaWdobGlnaHRlZFZhbHVlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5nZXROZXh0VmFsdWUoaGlnaGxpZ2h0ZWRWYWx1ZSwgMSwgcHJvcChcImxvb3BGb2N1c1wiKSk7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgaGlnaGxpZ2h0Rmlyc3RJdGVtKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcChcImNvbGxlY3Rpb25cIikuZmlyc3RWYWx1ZTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBoaWdobGlnaHRMYXN0SXRlbSh7IGNvbnRleHQsIHByb3AgfSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3AoXCJjb2xsZWN0aW9uXCIpLmxhc3RWYWx1ZTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRJbml0aWFsRm9jdXMoeyBzY29wZSB9KSB7XG4gICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEluaXRpYWxGb2N1cyh7XG4gICAgICAgICAgICByb290OiBnZXRDb250ZW50RWwoc2NvcGUpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBmb2N1c1RyaWdnZXJFbCh7IGV2ZW50LCBzY29wZSB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3RvcmVGb2N1cyA9IGV2ZW50LnJlc3RvcmVGb2N1cyA/PyBldmVudC5wcmV2aW91c0V2ZW50Py5yZXN0b3JlRm9jdXM7XG4gICAgICAgIGlmIChyZXN0b3JlRm9jdXMgIT0gbnVsbCAmJiAhcmVzdG9yZUZvY3VzKSByZXR1cm47XG4gICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldFRyaWdnZXJFbChzY29wZSk7XG4gICAgICAgICAgZWxlbWVudD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RIaWdobGlnaHRlZEl0ZW0oeyBjb250ZXh0LCBwcm9wLCBldmVudCB9KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGV2ZW50LnZhbHVlID8/IGNvbnRleHQuZ2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiKTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybjtcbiAgICAgICAgY29uc3QgbnVsbGFibGUgPSBwcm9wKFwiZGVzZWxlY3RhYmxlXCIpICYmICFwcm9wKFwibXVsdGlwbGVcIikgJiYgY29udGV4dC5nZXQoXCJ2YWx1ZVwiKS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gbnVsbGFibGUgPyBudWxsIDogdmFsdWU7XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgKHByZXYpID0+IHtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIFtdO1xuICAgICAgICAgIGlmIChwcm9wKFwibXVsdGlwbGVcIikpIHJldHVybiBhZGRPclJlbW92ZShwcmV2LCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodENvbXB1dGVkRmlyc3RJdGVtKHsgY29udGV4dCwgcHJvcCwgY29tcHV0ZWQgfSkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uMiA9IHByb3AoXCJjb2xsZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkKFwiaGFzU2VsZWN0ZWRJdGVtc1wiKSA/IGNvbGxlY3Rpb24yLnNvcnQoY29udGV4dC5nZXQoXCJ2YWx1ZVwiKSlbMF0gOiBjb2xsZWN0aW9uMi5maXJzdFZhbHVlO1xuICAgICAgICBjb250ZXh0LnNldChcImhpZ2hsaWdodGVkVmFsdWVcIiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodENvbXB1dGVkTGFzdEl0ZW0oeyBjb250ZXh0LCBwcm9wLCBjb21wdXRlZCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24yID0gcHJvcChcImNvbGxlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWQoXCJoYXNTZWxlY3RlZEl0ZW1zXCIpID8gY29sbGVjdGlvbjIuc29ydChjb250ZXh0LmdldChcInZhbHVlXCIpKVswXSA6IGNvbGxlY3Rpb24yLmxhc3RWYWx1ZTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBoaWdobGlnaHRGaXJzdFNlbGVjdGVkSXRlbSh7IGNvbnRleHQsIHByb3AsIGNvbXB1dGVkIH0pIHtcbiAgICAgICAgaWYgKCFjb21wdXRlZChcImhhc1NlbGVjdGVkSXRlbXNcIikpIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5zb3J0KGNvbnRleHQuZ2V0KFwidmFsdWVcIikpWzBdO1xuICAgICAgICBjb250ZXh0LnNldChcImhpZ2hsaWdodGVkVmFsdWVcIiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodEl0ZW0oeyBjb250ZXh0LCBldmVudCB9KSB7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiLCBldmVudC52YWx1ZSk7XG4gICAgICB9LFxuICAgICAgaGlnaGxpZ2h0TWF0Y2hpbmdJdGVtKHsgY29udGV4dCwgcHJvcCwgZXZlbnQsIHJlZnMgfSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3AoXCJjb2xsZWN0aW9uXCIpLnNlYXJjaChldmVudC5rZXksIHtcbiAgICAgICAgICBzdGF0ZTogcmVmcy5nZXQoXCJ0eXBlYWhlYWRcIiksXG4gICAgICAgICAgY3VycmVudFZhbHVlOiBjb250ZXh0LmdldChcImhpZ2hsaWdodGVkVmFsdWVcIilcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgc2V0SGlnaGxpZ2h0ZWRJdGVtKHsgY29udGV4dCwgZXZlbnQgfSkge1xuICAgICAgICBjb250ZXh0LnNldChcImhpZ2hsaWdodGVkVmFsdWVcIiwgZXZlbnQudmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNsZWFySGlnaGxpZ2h0ZWRJdGVtKHsgY29udGV4dCB9KSB7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGlnaGxpZ2h0ZWRWYWx1ZVwiLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RJdGVtKHsgY29udGV4dCwgcHJvcCwgZXZlbnQgfSkge1xuICAgICAgICBjb25zdCBudWxsYWJsZSA9IHByb3AoXCJkZXNlbGVjdGFibGVcIikgJiYgIXByb3AoXCJtdWx0aXBsZVwiKSAmJiBjb250ZXh0LmdldChcInZhbHVlXCIpLmluY2x1ZGVzKGV2ZW50LnZhbHVlKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBudWxsYWJsZSA/IG51bGwgOiBldmVudC52YWx1ZTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCAocHJldikgPT4ge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gW107XG4gICAgICAgICAgaWYgKHByb3AoXCJtdWx0aXBsZVwiKSkgcmV0dXJuIGFkZE9yUmVtb3ZlKHByZXYsIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY2xlYXJJdGVtKHsgY29udGV4dCwgZXZlbnQgfSkge1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIChwcmV2KSA9PiBwcmV2LmZpbHRlcigodikgPT4gdiAhPT0gZXZlbnQudmFsdWUpKTtcbiAgICAgIH0sXG4gICAgICBzZXRTZWxlY3RlZEl0ZW1zKHsgY29udGV4dCwgZXZlbnQgfSkge1xuICAgICAgICBjb250ZXh0LnNldChcInZhbHVlXCIsIGV2ZW50LnZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBjbGVhclNlbGVjdGVkSXRlbXMoeyBjb250ZXh0IH0pIHtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBbXSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0UHJldmlvdXNJdGVtKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IFtmaXJzdEl0ZW1dID0gY29udGV4dC5nZXQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5nZXRQcmV2aW91c1ZhbHVlKGZpcnN0SXRlbSk7XG4gICAgICAgIGlmICh2YWx1ZSkgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBbdmFsdWVdKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3ROZXh0SXRlbSh7IGNvbnRleHQsIHByb3AgfSkge1xuICAgICAgICBjb25zdCBbZmlyc3RJdGVtXSA9IGNvbnRleHQuZ2V0KFwidmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcChcImNvbGxlY3Rpb25cIikuZ2V0TmV4dFZhbHVlKGZpcnN0SXRlbSk7XG4gICAgICAgIGlmICh2YWx1ZSkgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBbdmFsdWVdKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RGaXJzdEl0ZW0oeyBjb250ZXh0LCBwcm9wIH0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5maXJzdFZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgW3ZhbHVlXSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0TGFzdEl0ZW0oeyBjb250ZXh0LCBwcm9wIH0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wKFwiY29sbGVjdGlvblwiKS5sYXN0VmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkgY29udGV4dC5zZXQoXCJ2YWx1ZVwiLCBbdmFsdWVdKTtcbiAgICAgIH0sXG4gICAgICBzZWxlY3RNYXRjaGluZ0l0ZW0oeyBjb250ZXh0LCBwcm9wLCBldmVudCwgcmVmcyB9KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcChcImNvbGxlY3Rpb25cIikuc2VhcmNoKGV2ZW50LmtleSwge1xuICAgICAgICAgIHN0YXRlOiByZWZzLmdldChcInR5cGVhaGVhZFwiKSxcbiAgICAgICAgICBjdXJyZW50VmFsdWU6IGNvbnRleHQuZ2V0KFwidmFsdWVcIilbMF1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVcIiwgW3ZhbHVlXSk7XG4gICAgICB9LFxuICAgICAgc2Nyb2xsQ29udGVudFRvVG9wKHsgcHJvcCwgc2NvcGUgfSkge1xuICAgICAgICBpZiAocHJvcChcInNjcm9sbFRvSW5kZXhGblwiKSkge1xuICAgICAgICAgIHByb3AoXCJzY3JvbGxUb0luZGV4Rm5cIik/Lih7IGluZGV4OiAwLCBpbW1lZGlhdGU6IHRydWUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2V0Q29udGVudEVsKHNjb3BlKT8uc2Nyb2xsVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbnZva2VPbk9wZW4oeyBwcm9wIH0pIHtcbiAgICAgICAgcHJvcChcIm9uT3BlbkNoYW5nZVwiKT8uKHsgb3BlbjogdHJ1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBpbnZva2VPbkNsb3NlKHsgcHJvcCB9KSB7XG4gICAgICAgIHByb3AoXCJvbk9wZW5DaGFuZ2VcIik/Lih7IG9wZW46IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICAgIHN5bmNTZWxlY3RFbGVtZW50KHsgY29udGV4dCwgcHJvcCwgc2NvcGUgfSkge1xuICAgICAgICBjb25zdCBzZWxlY3RFbCA9IGdldEhpZGRlblNlbGVjdEVsKHNjb3BlKTtcbiAgICAgICAgaWYgKCFzZWxlY3RFbCkgcmV0dXJuO1xuICAgICAgICBpZiAoY29udGV4dC5nZXQoXCJ2YWx1ZVwiKS5sZW5ndGggPT09IDAgJiYgIXByb3AoXCJtdWx0aXBsZVwiKSkge1xuICAgICAgICAgIHNlbGVjdEVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygc2VsZWN0RWwub3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGNvbnRleHQuZ2V0KFwidmFsdWVcIikuaW5jbHVkZXMob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN5bmNDb2xsZWN0aW9uKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24yID0gcHJvcChcImNvbGxlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodGVkSXRlbSA9IGNvbGxlY3Rpb24yLmZpbmQoY29udGV4dC5nZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIpKTtcbiAgICAgICAgaWYgKGhpZ2hsaWdodGVkSXRlbSkgY29udGV4dC5zZXQoXCJoaWdobGlnaHRlZEl0ZW1cIiwgaGlnaGxpZ2h0ZWRJdGVtKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGNvbGxlY3Rpb24yLmZpbmRNYW55KGNvbnRleHQuZ2V0KFwidmFsdWVcIikpO1xuICAgICAgICBjb250ZXh0LnNldChcInNlbGVjdGVkSXRlbXNcIiwgc2VsZWN0ZWRJdGVtcyk7XG4gICAgICAgIGNvbnN0IHZhbHVlQXNTdHJpbmcgPSBjb2xsZWN0aW9uMi5zdHJpbmdpZnlJdGVtcyhzZWxlY3RlZEl0ZW1zKTtcbiAgICAgICAgY29udGV4dC5zZXQoXCJ2YWx1ZUFzU3RyaW5nXCIsIHZhbHVlQXNTdHJpbmcpO1xuICAgICAgfSxcbiAgICAgIHN5bmNTZWxlY3RlZEl0ZW1zKHsgY29udGV4dCwgcHJvcCB9KSB7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24yID0gcHJvcChcImNvbGxlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHByZXZTZWxlY3RlZEl0ZW1zID0gY29udGV4dC5nZXQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbnRleHQuZ2V0KFwidmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB2YWx1ZS5tYXAoKHZhbHVlMikgPT4ge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwcmV2U2VsZWN0ZWRJdGVtcy5maW5kKChpdGVtMikgPT4gY29sbGVjdGlvbjIuZ2V0SXRlbVZhbHVlKGl0ZW0yKSA9PT0gdmFsdWUyKTtcbiAgICAgICAgICByZXR1cm4gaXRlbSB8fCBjb2xsZWN0aW9uMi5maW5kKHZhbHVlMik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LnNldChcInNlbGVjdGVkSXRlbXNcIiwgc2VsZWN0ZWRJdGVtcyk7XG4gICAgICAgIGNvbnRleHQuc2V0KFwidmFsdWVBc1N0cmluZ1wiLCBjb2xsZWN0aW9uMi5zdHJpbmdpZnlJdGVtcyhzZWxlY3RlZEl0ZW1zKSk7XG4gICAgICB9LFxuICAgICAgc3luY0hpZ2hsaWdodGVkSXRlbSh7IGNvbnRleHQsIHByb3AgfSkge1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uMiA9IHByb3AoXCJjb2xsZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRlZFZhbHVlID0gY29udGV4dC5nZXQoXCJoaWdobGlnaHRlZFZhbHVlXCIpO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRlZEl0ZW0gPSBoaWdobGlnaHRlZFZhbHVlID8gY29sbGVjdGlvbjIuZmluZChoaWdobGlnaHRlZFZhbHVlKSA6IG51bGw7XG4gICAgICAgIGNvbnRleHQuc2V0KFwiaGlnaGxpZ2h0ZWRJdGVtXCIsIGhpZ2hsaWdodGVkSXRlbSk7XG4gICAgICB9LFxuICAgICAgZGlzcGF0Y2hDaGFuZ2VFdmVudCh7IHNjb3BlIH0pIHtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGUgPSBnZXRIaWRkZW5TZWxlY3RFbChzY29wZSk7XG4gICAgICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICAgICAgY29uc3Qgd2luID0gc2NvcGUuZ2V0V2luKCk7XG4gICAgICAgICAgY29uc3QgY2hhbmdlRXZlbnQgPSBuZXcgd2luLkV2ZW50KFwiY2hhbmdlXCIsIHsgYnViYmxlczogdHJ1ZSwgY29tcG9zZWQ6IHRydWUgfSk7XG4gICAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KGNoYW5nZUV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbnZhciBwcm9wcyA9IGNyZWF0ZVByb3BzKCkoW1xuICBcImNsb3NlT25TZWxlY3RcIixcbiAgXCJjb2xsZWN0aW9uXCIsXG4gIFwiZGlyXCIsXG4gIFwiZGlzYWJsZWRcIixcbiAgXCJkZXNlbGVjdGFibGVcIixcbiAgXCJmb3JtXCIsXG4gIFwiZ2V0Um9vdE5vZGVcIixcbiAgXCJoaWdobGlnaHRlZFZhbHVlXCIsXG4gIFwiaWRcIixcbiAgXCJpZHNcIixcbiAgXCJpbnZhbGlkXCIsXG4gIFwibG9vcEZvY3VzXCIsXG4gIFwibXVsdGlwbGVcIixcbiAgXCJuYW1lXCIsXG4gIFwib25Gb2N1c091dHNpZGVcIixcbiAgXCJvbkhpZ2hsaWdodENoYW5nZVwiLFxuICBcIm9uSW50ZXJhY3RPdXRzaWRlXCIsXG4gIFwib25PcGVuQ2hhbmdlXCIsXG4gIFwib25Qb2ludGVyRG93bk91dHNpZGVcIixcbiAgXCJvblZhbHVlQ2hhbmdlXCIsXG4gIFwiZGVmYXVsdE9wZW5cIixcbiAgXCJvcGVuXCIsXG4gIFwiY29tcG9zaXRlXCIsXG4gIFwicG9zaXRpb25pbmdcIixcbiAgXCJyZXF1aXJlZFwiLFxuICBcInJlYWRPbmx5XCIsXG4gIFwic2Nyb2xsVG9JbmRleEZuXCIsXG4gIFwidmFsdWVcIixcbiAgXCJkZWZhdWx0VmFsdWVcIixcbiAgXCJkZWZhdWx0SGlnaGxpZ2h0ZWRWYWx1ZVwiXG5dKTtcbnZhciBzcGxpdFByb3BzID0gY3JlYXRlU3BsaXRQcm9wcyhwcm9wcyk7XG52YXIgaXRlbVByb3BzID0gY3JlYXRlUHJvcHMoKShbXCJpdGVtXCIsIFwicGVyc2lzdEZvY3VzXCJdKTtcbnZhciBzcGxpdEl0ZW1Qcm9wcyA9IGNyZWF0ZVNwbGl0UHJvcHMoaXRlbVByb3BzKTtcbnZhciBpdGVtR3JvdXBQcm9wcyA9IGNyZWF0ZVByb3BzKCkoW1wiaWRcIl0pO1xudmFyIHNwbGl0SXRlbUdyb3VwUHJvcHMgPSBjcmVhdGVTcGxpdFByb3BzKGl0ZW1Hcm91cFByb3BzKTtcbnZhciBpdGVtR3JvdXBMYWJlbFByb3BzID0gY3JlYXRlUHJvcHMoKShbXCJodG1sRm9yXCJdKTtcbnZhciBzcGxpdEl0ZW1Hcm91cExhYmVsUHJvcHMgPSBjcmVhdGVTcGxpdFByb3BzKGl0ZW1Hcm91cExhYmVsUHJvcHMpO1xuXG5leHBvcnQgeyBhbmF0b215LCBjb2xsZWN0aW9uLCBjb25uZWN0LCBpdGVtR3JvdXBMYWJlbFByb3BzLCBpdGVtR3JvdXBQcm9wcywgaXRlbVByb3BzLCBtYWNoaW5lLCBwcm9wcywgc3BsaXRJdGVtR3JvdXBMYWJlbFByb3BzLCBzcGxpdEl0ZW1Hcm91cFByb3BzLCBzcGxpdEl0ZW1Qcm9wcywgc3BsaXRQcm9wcyB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@zag-js+select@1.8.2/node_modules/@zag-js/select/dist/index.mjs\n");

/***/ })

};
;